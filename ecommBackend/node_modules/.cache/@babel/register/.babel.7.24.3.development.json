{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\index.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _user = _interopRequireDefault(require(\"./routers/user.router\"));\nvar _category = _interopRequireDefault(require(\"./routers/category.router\"));\nvar _product = _interopRequireDefault(require(\"./routers/product.router\"));\nvar _cart = _interopRequireDefault(require(\"./routers/cart.router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\nconst PORT = 8002;\n\n// body parser\napp.use(_express.default.json());\n\n// serving static files\napp.use(\"/uploads\", _express.default.static(\"uploads\"));\n\n// DB connectivity\n_mongoose.default.connect(\"mongodb://127.0.0.1:27017/mynewdb\").then(() => console.log(\"DB Connected!\"));\napp.listen(PORT, () => {\n  console.log(\"Server is running on port: \" + PORT);\n});\napp.use((req, res, next) => {\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n  next();\n});\napp.use(\"/api/v1/user\", _user.default);\napp.use(\"/api/v1/categories\", _category.default);\napp.use(\"/api/v1/products\", _product.default);\napp.use(\"/api/v1/cart\", _cart.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX21vbmdvb3NlIiwiX3VzZXIiLCJfY2F0ZWdvcnkiLCJfcHJvZHVjdCIsIl9jYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJhcHAiLCJleHByZXNzIiwiUE9SVCIsInVzZSIsImpzb24iLCJzdGF0aWMiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImxpc3RlbiIsInJlcSIsInJlcyIsIm5leHQiLCJzZXRIZWFkZXIiLCJ1c2VyUm91dGVyIiwiY2F0ZWdvcnlSb3V0ZXIiLCJwcm9kdWN0Um91dGVyIiwiY2FydFJvdXRlciJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXNlci5yb3V0ZXJcIjtcclxuaW1wb3J0IGNhdGVnb3J5Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvY2F0ZWdvcnkucm91dGVyXCI7XHJcbmltcG9ydCBwcm9kdWN0Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvcHJvZHVjdC5yb3V0ZXJcIjtcclxuaW1wb3J0IGNhcnRSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy9jYXJ0LnJvdXRlclwiO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IFBPUlQgPSA4MDAyO1xyXG5cclxuLy8gYm9keSBwYXJzZXJcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcblxyXG4vLyBzZXJ2aW5nIHN0YXRpYyBmaWxlc1xyXG5hcHAudXNlKFwiL3VwbG9hZHNcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzXCIpKTtcclxuXHJcbi8vIERCIGNvbm5lY3Rpdml0eVxyXG5tb25nb29zZVxyXG4gIC5jb25uZWN0KFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9teW5ld2RiXCIpXHJcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJEQiBDb25uZWN0ZWQhXCIpKTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydDogXCIgKyBQT1JUKTtcclxufSk7XHJcblxyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIik7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIFJlYWN0IGFwcCdzIFVSTCAvLyBvcmdpbiBhcyBpbiBmcm9udGVuZFxyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURVwiKTtcclxuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcclxuICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZShcIi9hcGkvdjEvdXNlclwiLCB1c2VyUm91dGVyKTtcclxuYXBwLnVzZShcIi9hcGkvdjEvY2F0ZWdvcmllc1wiLCBjYXRlZ29yeVJvdXRlcik7XHJcbmFwcC51c2UoXCIvYXBpL3YxL3Byb2R1Y3RzXCIsIHByb2R1Y3RSb3V0ZXIpO1xyXG5hcHAudXNlKFwiL2FwaS92MS9jYXJ0XCIsIGNhcnRSb3V0ZXIpO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssS0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQStDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQy9DLE1BQU1HLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFDckIsTUFBTUMsSUFBSSxHQUFHLElBQUk7O0FBRWpCO0FBQ0FGLEdBQUcsQ0FBQ0csR0FBRyxDQUFDRixnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUV2QjtBQUNBSixHQUFHLENBQUNHLEdBQUcsQ0FBQyxVQUFVLEVBQUVGLGdCQUFPLENBQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFOUM7QUFDQUMsaUJBQVEsQ0FDTEMsT0FBTyxDQUFDLG1DQUFtQyxDQUFDLENBQzVDQyxJQUFJLENBQUMsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7QUFFM0NWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDVCxJQUFJLEVBQUUsTUFBTTtFQUNyQk8sT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQTZCLEdBQUdSLElBQUksQ0FBQztBQUNuRCxDQUFDLENBQUM7QUFFRkYsR0FBRyxDQUFDRyxHQUFHLENBQUMsQ0FBQ1MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQkQsR0FBRyxDQUFDRSxTQUFTLENBQUMsNkJBQTZCLEVBQUUsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO0VBQ3ZFRixHQUFHLENBQUNFLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSx3QkFBd0IsQ0FBQztFQUN2RUYsR0FBRyxDQUFDRSxTQUFTLENBQUMsOEJBQThCLEVBQUUsNkJBQTZCLENBQUM7RUFDNUVELElBQUksQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDO0FBRUZkLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBRWEsYUFBVSxDQUFDO0FBQ25DaEIsR0FBRyxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUVjLGlCQUFjLENBQUM7QUFDN0NqQixHQUFHLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRWUsZ0JBQWEsQ0FBQztBQUMxQ2xCLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBRWdCLGFBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_mongoose","_user","_category","_product","_cart","obj","__esModule","default","app","express","PORT","use","json","static","mongoose","connect","then","console","log","listen","req","res","next","setHeader","userRouter","categoryRouter","productRouter","cartRouter"],"sourceRoot":"D:\\unzipped\\Session8\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\nimport mongoose from \"mongoose\";\r\nimport userRouter from \"./routers/user.router\";\r\nimport categoryRouter from \"./routers/category.router\";\r\nimport productRouter from \"./routers/product.router\";\r\nimport cartRouter from \"./routers/cart.router\";\r\nconst app = express();\r\nconst PORT = 8002;\r\n\r\n// body parser\r\napp.use(express.json());\r\n\r\n// serving static files\r\napp.use(\"/uploads\", express.static(\"uploads\"));\r\n\r\n// DB connectivity\r\nmongoose\r\n  .connect(\"mongodb://127.0.0.1:27017/mynewdb\")\r\n  .then(() => console.log(\"DB Connected!\"));\r\n\r\napp.listen(PORT, () => {\r\n  console.log(\"Server is running on port: \" + PORT);\r\n});\r\n\r\napp.use((req, res, next) => {\r\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\r\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\r\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\r\n  next();\r\n});\r\n\r\napp.use(\"/api/v1/user\", userRouter);\r\napp.use(\"/api/v1/categories\", categoryRouter);\r\napp.use(\"/api/v1/products\", productRouter);\r\napp.use(\"/api/v1/cart\", cartRouter);\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,QAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,KAAA,GAAAN,sBAAA,CAAAC,OAAA;AAA+C,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC/C,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrB,MAAMC,IAAI,GAAG,IAAI;;AAEjB;AACAF,GAAG,CAACG,GAAG,CAACF,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAJ,GAAG,CAACG,GAAG,CAAC,UAAU,EAAEF,gBAAO,CAACI,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9C;AACAC,iBAAQ,CACLC,OAAO,CAAC,mCAAmC,CAAC,CAC5CC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAAC;AAE3CV,GAAG,CAACW,MAAM,CAACT,IAAI,EAAE,MAAM;EACrBO,OAAO,CAACC,GAAG,CAAC,6BAA6B,GAAGR,IAAI,CAAC;AACnD,CAAC,CAAC;AAEFF,GAAG,CAACG,GAAG,CAAC,CAACS,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1BD,GAAG,CAACE,SAAS,CAAC,6BAA6B,EAAE,uBAAuB,CAAC,CAAC,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,wBAAwB,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;EAC5ED,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEFd,GAAG,CAACG,GAAG,CAAC,cAAc,EAAEa,aAAU,CAAC;AACnChB,GAAG,CAACG,GAAG,CAAC,oBAAoB,EAAEc,iBAAc,CAAC;AAC7CjB,GAAG,CAACG,GAAG,CAAC,kBAAkB,EAAEe,gBAAa,CAAC;AAC1ClB,GAAG,CAACG,GAAG,CAAC,cAAc,EAAEgB,aAAU,CAAC","ignoreList":[]}},"mtime":1715167040232},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlci5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRVc2VyLFxyXG4gIGRlbGV0ZVVzZXIsXHJcbiAgZ2V0VXNlcixcclxuICBsb2dpbixcclxuICBzaWduVXAsXHJcbiAgZ2V0VXNlcnMsXHJcbiAgdXBkYXRlVXNlcixcclxufSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXVzZXJcIiwgYWRkVXNlcik7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXVzZXJzXCIsIGdldFVzZXJzKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlci86dXNlcmlkXCIsIGdldFVzZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS11c2VyLzp1c2VyaWRcIiwgdXBkYXRlVXNlcik7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXVzZXIvOnVzZXJpZFwiLCBkZWxldGVVc2VyKTtcclxuXHJcbi8vIEF1dGhcclxucm91dGVyLnBvc3QoXCIvc2lnbi11cFwiLCBzaWduVXApO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBUXdDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBTyxDQUFDO0FBQ2pDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxZQUFZLEVBQUVDLGNBQVEsQ0FBQztBQUNsQ04sTUFBTSxDQUFDSyxHQUFHLENBQUMsbUJBQW1CLEVBQUVFLGFBQU8sQ0FBQztBQUN4Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7QUFDOUNULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDLHNCQUFzQixFQUFFQyxnQkFBVSxDQUFDOztBQUVqRDtBQUNBWCxNQUFNLENBQUNHLElBQUksQ0FBQyxVQUFVLEVBQUVTLFlBQU0sQ0FBQztBQUMvQlosTUFBTSxDQUFDRyxJQUFJLENBQUMsUUFBUSxFQUFFVSxXQUFLLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFZEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1714566818159},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    if (_fs.default.existsSync(\"./uploads\")) {\n      cb(null, \"./uploads\");\n    } else {\n      _fs.default.mkdirSync(\"./uploads\");\n      cb(null, \"./uploads\");\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: password,\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      contact\n    } = req.body;\n    const existUser = await _user.default.findOne({\n      email: email\n    });\n    if (existUser) {\n      return res.status(200).json({\n        message: \"User already exist\",\n        success: false\n      });\n    }\n    const hashPassword = _bcrypt.default.hashSync(password, 10);\n    console.log(hashPassword);\n    const saveData = await _user.default.create({\n      name: name,\n      email: email,\n      password: hashPassword,\n      contact: contact\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"your_secret_key_here\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiZmlsZW5hbWUiLCJvcmdOYW1lIiwib3JpZ2luYWxuYW1lIiwiZXh0IiwicGF0aCIsInBhcnNlIiwibmFtZSIsImZ1bGxuYW1lIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInVwbG9hZCIsImFkZFVzZXIiLCJyZXMiLCJkYXRhV2l0aEZpbGUiLCJzaW5nbGUiLCJlcnIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImltZyIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0Iiwic2F2ZURhdGEiLCJVc2VyTW9kZWwiLCJjcmVhdGUiLCJpbWFnZSIsImRhdGEiLCJleHBvcnRzIiwiZ2V0VXNlcnMiLCJ1c2VyRGF0YSIsImZpbmQiLCJmaWxlcGF0aCIsImdldFVzZXIiLCJ1c2VyaWQiLCJwYXJhbXMiLCJmaW5kT25lIiwiX2lkIiwidXBkYXRlVXNlciIsImV4aXN0aW5nVXNlciIsInVubGlua1N5bmMiLCJ1c2VyIiwidXBkYXRlT25lIiwiJHNldCIsImFja25vd2xlZGdlZCIsImRlbGV0ZVVzZXIiLCJkZWxldGVPbmUiLCJzaWduVXAiLCJleGlzdFVzZXIiLCJoYXNoUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoU3luYyIsImxvZ2luIiwiY29tcGFyZVBhc3N3b3JkIiwiY29tcGFyZVN5bmMiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCIsImV4cGlyZXNJbiIsInJlc3BvbnNlRGF0YSIsInRvT2JqZWN0Il0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ1c2VyLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL3VzZXIubW9kZWxcIjtcclxuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XHJcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzXCIpKSB7XHJcbiAgICAgIGNiKG51bGwsIFwiLi91cGxvYWRzXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZnMubWtkaXJTeW5jKFwiLi91cGxvYWRzXCIpO1xyXG4gICAgICBjYihudWxsLCBcIi4vdXBsb2Fkc1wiKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGZpbGVuYW1lOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY29uc3Qgb3JnTmFtZSA9IGZpbGUub3JpZ2luYWxuYW1lO1xyXG4gICAgY29uc3QgZXh0ID0gcGF0aC5wYXJzZShvcmdOYW1lKS5leHQ7XHJcbiAgICBjb25zdCBuYW1lID0gcGF0aC5wYXJzZShvcmdOYW1lKS5uYW1lO1xyXG4gICAgY29uc3QgZnVsbG5hbWUgPVxyXG4gICAgICBuYW1lICsgXCItXCIgKyBEYXRlLm5vdygpICsgXCJcIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlOSkgKyBleHQ7XHJcblxyXG4gICAgY2IobnVsbCwgZnVsbG5hbWUpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGFXaXRoRmlsZSA9IHVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIik7XHJcblxyXG4gICAgZGF0YVdpdGhGaWxlKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5maWxlKTtcclxuXHJcbiAgICAgIGxldCBpbWcgPSBudWxsO1xyXG4gICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICBpbWcgPSByZXEuZmlsZS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgVXNlck1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICAgICAgaW1hZ2U6IGltZyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgVXNlck1vZGVsLmZpbmQoKTtcclxuICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZpbGVwYXRoOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS91cGxvYWRzL1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdldFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICBpZiAodXNlckRhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmaWxlcGF0aDogXCJodHRwOi8vbG9jYWxob3N0OjgwMDEvdXBsb2Fkcy9cIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhV2l0aEZpbGUgPSB1cGxvYWQuc2luZ2xlKFwiYXZhdGFyXCIpO1xyXG5cclxuICAgIGRhdGFXaXRoRmlsZShyZXEsIHJlcywgYXN5bmMgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBzdWNjZXNzOiBmYWxzZSB9KTtcclxuICAgICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcblxyXG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgICBsZXQgaW1nID0gZXhpc3RpbmdVc2VyLmltYWdlO1xyXG4gICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICBpbWcgPSByZXEuZmlsZS5maWxlbmFtZTtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICAgIGZzLnVubGlua1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiB1c2VyaWQgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiRGVsZXRlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIEF1dGhcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgZXhpc3RVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICBpZiAoZXhpc3RVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGFscmVhZHkgZXhpc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNoUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgIGNvbnNvbGUubG9nKGhhc2hQYXNzd29yZCk7XHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzc3dvcmQsXHJcbiAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBleGlzdGluZ1VzZXIucGFzc3dvcmQpO1xyXG4gICAgaWYgKCFjb21wYXJlUGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwYXNzd29yZHMgbWF0Y2gsIGdlbmVyYXRlIEpXVCB0b2tlblxyXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBleGlzdGluZ1VzZXIuX2lkLFxyXG4gICAgICAgIGVtYWlsOiBleGlzdGluZ1VzZXIuZW1haWwsXHJcbiAgICAgIH0sXHJcbiAgICAgIFwieW91cl9zZWNyZXRfa2V5X2hlcmVcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgc2VjcmV0IGtleVxyXG4gICAgICB7IGV4cGlyZXNJbjogXCIxaFwiIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gRXhjbHVkZSBwYXNzd29yZCBmcm9tIHJlc3BvbnNlIGRhdGFcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHsgLi4uZXhpc3RpbmdVc2VyLnRvT2JqZWN0KCkgfTtcclxuICAgIGRlbGV0ZSByZXNwb25zZURhdGEucGFzc3dvcmQ7XHJcblxyXG4gICAgLy8gU2VuZCB0b2tlbiBhbmQgdXNlciBkYXRhIGluIHJlc3BvbnNlXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxu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","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","existUser","hashPassword","bcrypt","hashSync","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    if (fs.existsSync(\"./uploads\")) {\r\n      cb(null, \"./uploads\");\r\n    } else {\r\n      fs.mkdirSync(\"./uploads\");\r\n      cb(null, \"./uploads\");\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: password,\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\n\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    const { name, email, password, contact } = req.body;\r\n\r\n    const existUser = await UserModel.findOne({ email: email });\r\n    if (existUser) {\r\n      return res.status(200).json({\r\n        message: \"User already exist\",\r\n        success: false,\r\n      });\r\n    }\r\n    const hashPassword = bcrypt.hashSync(password, 10);\r\n    console.log(hashPassword);\r\n    const saveData = await UserModel.create({\r\n      name: name,\r\n      email: email,\r\n      password: hashPassword,\r\n      contact: contact,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"your_secret_key_here\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }\r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715591558450},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBuYW1lOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGNvbnRhY3Q6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsIFVzZXJTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERSxRQUFRLEVBQUU7SUFDUkosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREcsT0FBTyxFQUFFO0lBQ1BMLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RZLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVDLE1BQU07SUFDWk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxNQUFNLEVBQUU7SUFDTlIsSUFBSSxFQUFFTSxNQUFNO0lBQ1pYLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsVUFBVSxFQUFFO0lBQ1ZULElBQUksRUFBRVUsSUFBSTtJQUNWZixPQUFPLEVBQUVlLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRVlFLGlCQUFRLENBQUNpQixLQUFLLENBQUMsTUFBTSxFQUFFaEIsVUFBVSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","name","type","String","required","email","password","contact","Number","image","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IACJC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDE,QAAQ,EAAE;IACRJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,OAAO,EAAE;IACPL,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDY,KAAK,EAAE;IACLP,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDa,MAAM,EAAE;IACNR,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDc,UAAU,EAAE;IACVT,IAAI,EAAEU,IAAI;IACVf,OAAO,EAAEe,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEYE,iBAAQ,CAACiB,KAAK,CAAC,MAAM,EAAEhB,UAAU,CAAC","ignoreList":[]}},"mtime":1714562444651},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\category.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _category = require(\"../controllers/category.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-category\", _category.addCategory);\nrouter.get(\"/get-categories\", _category.getCategories);\nrouter.get(\"/get-category/:categoryid\", _category.getCategory);\nrouter.put(\"/update-category/:categoryid\", _category.updateCategory);\nrouter.delete(\"/delete-category/:categoryid\", _category.deleteCategory);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGVnb3J5Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImFkZENhdGVnb3J5IiwiZ2V0IiwiZ2V0Q2F0ZWdvcmllcyIsImdldENhdGVnb3J5IiwicHV0IiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGUiLCJkZWxldGVDYXRlZ29yeSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXRlZ29yeS5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRDYXRlZ29yeSxcclxuICBkZWxldGVDYXRlZ29yeSxcclxuICBnZXRDYXRlZ29yaWVzLFxyXG4gIGdldENhdGVnb3J5LFxyXG4gIHVwZGF0ZUNhdGVnb3J5LFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy9jYXRlZ29yeS5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLWNhdGVnb3J5XCIsIGFkZENhdGVnb3J5KTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcmllc1wiLCBnZXRDYXRlZ29yaWVzKTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcnkvOmNhdGVnb3J5aWRcIiwgZ2V0Q2F0ZWdvcnkpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS1jYXRlZ29yeS86Y2F0ZWdvcnlpZFwiLCB1cGRhdGVDYXRlZ29yeSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLWNhdGVnb3J5LzpjYXRlZ29yeWlkXCIsIGRlbGV0ZUNhdGVnb3J5KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBTTRDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGVBQWUsRUFBRUMscUJBQVcsQ0FBQztBQUN6Q0osTUFBTSxDQUFDSyxHQUFHLENBQUMsaUJBQWlCLEVBQUVDLHVCQUFhLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLDJCQUEyQixFQUFFRSxxQkFBVyxDQUFDO0FBQ3BEUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRUMsd0JBQWMsQ0FBQztBQUMxRFQsTUFBTSxDQUFDVSxNQUFNLENBQUMsOEJBQThCLEVBQUVDLHdCQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWQsT0FBQSxHQUMvQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_category","obj","__esModule","default","router","express","Router","post","addCategory","get","getCategories","getCategory","put","updateCategory","delete","deleteCategory","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["category.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n  getCategory,\r\n  updateCategory,\r\n} from \"../controllers/category.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-category\", addCategory);\r\nrouter.get(\"/get-categories\", getCategories);\r\nrouter.get(\"/get-category/:categoryid\", getCategory);\r\nrouter.put(\"/update-category/:categoryid\", updateCategory);\r\nrouter.delete(\"/delete-category/:categoryid\", deleteCategory);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAM4C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,eAAe,EAAEC,qBAAW,CAAC;AACzCJ,MAAM,CAACK,GAAG,CAAC,iBAAiB,EAAEC,uBAAa,CAAC;AAC5CN,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEE,qBAAW,CAAC;AACpDP,MAAM,CAACQ,GAAG,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAC1DT,MAAM,CAACU,MAAM,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAC/CC,MAAM","ignoreList":[]}},"mtime":1712733580848},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\category.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateCategory = exports.getCategory = exports.getCategories = exports.deleteCategory = exports.addCategory = void 0;\nvar _category = _interopRequireDefault(require(\"../models/category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addCategory = async (req, res) => {\n  try {\n    const {\n      categoryname,\n      categorytype,\n      description\n    } = req.body; // Corrected keys\n    const saveData = await _category.default.create({\n      categoryname: categoryname,\n      // Corrected key\n      categorytype: categorytype,\n      // Corrected key\n      description: description\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addCategory = addCategory;\nconst getCategories = async (req, res) => {\n  try {\n    const categories = await _category.default.find();\n    if (categories) {\n      return res.status(200).json({\n        data: categories,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategories = getCategories;\nconst getCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.findOne({\n      _id: categoryid\n    });\n    if (category) {\n      return res.status(200).json({\n        data: category,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategory = getCategory;\nconst updateCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const {\n      name,\n      description\n    } = req.body;\n    const category = await _category.default.updateOne({\n      _id: categoryid\n    }, {\n      $set: {\n        name: name,\n        description: description\n      }\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Updated!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateCategory = updateCategory;\nconst deleteCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.deleteOne({\n      _id: categoryid\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n      a;\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCategory = deleteCategory;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2F0ZWdvcnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYWRkQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeW5hbWUiLCJjYXRlZ29yeXR5cGUiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJzYXZlRGF0YSIsIkNhdGVnb3J5TW9kZWwiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZXJyIiwiZXhwb3J0cyIsImdldENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZmluZCIsImdldENhdGVnb3J5IiwiY2F0ZWdvcnlpZCIsInBhcmFtcyIsImNhdGVnb3J5IiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZUNhdGVnb3J5IiwibmFtZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVDYXRlZ29yeSIsImRlbGV0ZU9uZSIsImEiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhdGVnb3J5TW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYXRlZ29yeS5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeW5hbWUsIGNhdGVnb3J5dHlwZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5OyAvLyBDb3JyZWN0ZWQga2V5c1xyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIGNhdGVnb3J5bmFtZTogY2F0ZWdvcnluYW1lLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGNhdGVnb3J5dHlwZTogY2F0ZWdvcnl0eXBlLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yaWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmQoKTtcclxuICAgIGlmIChjYXRlZ29yaWVzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogY2F0ZWdvcmllcyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYXRlZ29yeWlkID0gcmVxLnBhcmFtcy5jYXRlZ29yeWlkO1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXRlZ29yeSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhdGVnb3J5aWQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGlmIChjYXRlZ29yeS5hY2tub3dsZWRnZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnlNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO2FcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM5QyxNQUFNRyxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsSUFBSTtJQUNGLE1BQU07TUFBRUMsWUFBWTtNQUFFQyxZQUFZO01BQUVDO0lBQVksQ0FBQyxHQUFHSixHQUFHLENBQUNLLElBQUksQ0FBQyxDQUFDO0lBQzlELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxpQkFBYSxDQUFDQyxNQUFNLENBQUM7TUFDMUNOLFlBQVksRUFBRUEsWUFBWTtNQUFFO01BQzVCQyxZQUFZLEVBQUVBLFlBQVk7TUFBRTtNQUM1QkMsV0FBVyxFQUFFQTtJQUNmLENBQUMsQ0FBQztJQUVGLElBQUlFLFFBQVEsRUFBRTtNQUNaLE9BQU9MLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRUwsUUFBUTtRQUNkTSxPQUFPLEVBQUUsa0JB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","map":{"version":3,"names":["_category","_interopRequireDefault","require","obj","__esModule","default","addCategory","req","res","categoryname","categorytype","description","body","saveData","CategoryModel","create","status","json","data","message","success","err","exports","getCategories","categories","find","getCategory","categoryid","params","category","findOne","_id","updateCategory","name","updateOne","$set","acknowledged","deleteCategory","deleteOne","a"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["category.controller.js"],"sourcesContent":["import CategoryModel from \"../models/category.model\";\r\nexport const addCategory = async (req, res) => {\r\n  try {\r\n    const { categoryname, categorytype, description } = req.body; // Corrected keys\r\n    const saveData = await CategoryModel.create({\r\n      categoryname: categoryname, // Corrected key\r\n      categorytype: categorytype, // Corrected key\r\n      description: description,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCategories = async (req, res) => {\r\n  try {\r\n    const categories = await CategoryModel.find();\r\n    if (categories) {\r\n      return res.status(200).json({\r\n        data: categories,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.findOne({ _id: categoryid });\r\n    if (category) {\r\n      return res.status(200).json({\r\n        data: category,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const { name, description } = req.body;\r\n    const category = await CategoryModel.updateOne(\r\n      { _id: categoryid },\r\n      {\r\n        $set: {\r\n          name: name,\r\n          description: description,\r\n        },\r\n      }\r\n    );\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Updated!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.deleteOne({ _id: categoryid });\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });a\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1715164761286},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\category.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst CategorySchema = new Schema({\n  categoryname: {\n    type: String,\n    required: true\n  },\n  categorytype: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"category\", CategorySchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJDYXRlZ29yeVNjaGVtYSIsImNhdGVnb3J5bmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImNhdGVnb3J5dHlwZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJOdW1iZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcnkubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBDYXRlZ29yeVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGNhdGVnb3J5bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBjYXRlZ29yeXR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcblxyXG5kZXNjcmlwdGlvbjp7XHJcbiAgdHlwZTpTdHJpbmcsXHJcbiAgZGVmYXVsdDpudWxsXHJcbn0sXHJcblxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcblxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcnlcIiwgQ2F0ZWdvcnlTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsY0FBYyxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUNoQ0csWUFBWSxFQUFFO0lBQ1pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFlBQVksRUFBRTtJQUNaSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVERSxLQUFLLEVBQUU7SUFDTEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFSFUsV0FBVyxFQUFDO0lBQ1ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYTixPQUFPLEVBQUM7RUFDVixDQUFDO0VBRUNXLE1BQU0sRUFBRTtJQUNOTixJQUFJLEVBQUVPLE1BQU07SUFDWlosT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxVQUFVLEVBQUU7SUFDVlIsSUFBSSxFQUFFUyxJQUFJO0lBQ1ZkLE9BQU8sRUFBRWMsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDcEI7QUFFRixDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpCLE9BQUEsR0FFWUUsaUJBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxVQUFVLEVBQUVmLGNBQWMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","CategorySchema","categoryname","type","String","required","categorytype","image","description","status","Number","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["category.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst CategorySchema = new Schema({\r\n  categoryname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  categorytype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n\r\ndescription:{\r\n  type:String,\r\n  default:null\r\n},\r\n\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n\r\n});\r\n\r\nexport default mongoose.model(\"category\", CategorySchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,cAAc,GAAG,IAAIF,MAAM,CAAC;EAChCG,YAAY,EAAE;IACZC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,YAAY,EAAE;IACZH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAEHU,WAAW,EAAC;IACVL,IAAI,EAACC,MAAM;IACXN,OAAO,EAAC;EACV,CAAC;EAECW,MAAM,EAAE;IACNN,IAAI,EAAEO,MAAM;IACZZ,OAAO,EAAE;EACX,CAAC;EACDa,UAAU,EAAE;IACVR,IAAI,EAAES,IAAI;IACVd,OAAO,EAAEc,IAAI,CAACC,GAAG,CAAC;EACpB;AAEF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GAEYE,iBAAQ,CAACgB,KAAK,CAAC,UAAU,EAAEf,cAAc,CAAC","ignoreList":[]}},"mtime":1715163779121},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\product.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _product = require(\"../controllers/product.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-product\", _product.addProduct);\nrouter.get(\"/get-products\", _product.getProducts);\nrouter.get(\"/get-products-aggr\", _product.getProductsAggr);\nrouter.get(\"/get-product/:productid\", _product.getProduct);\nrouter.put(\"/update-product/:productid\", _product.updateProduct);\nrouter.delete(\"/delete-product/:productid\", _product.deleteProduct);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkUHJvZHVjdCIsImdldCIsImdldFByb2R1Y3RzIiwiZ2V0UHJvZHVjdHNBZ2dyIiwiZ2V0UHJvZHVjdCIsInB1dCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVQcm9kdWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3Qucm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICBkZWxldGVQcm9kdWN0LFxyXG4gIGdldFByb2R1Y3QsXHJcbiAgZ2V0UHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdHNBZ2dyLFxyXG4gIHVwZGF0ZVByb2R1Y3QsXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Byb2R1Y3QuY29udHJvbGxlclwiO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXByb2R1Y3RcIiwgYWRkUHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXByb2R1Y3RzXCIsIGdldFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9nZXQtcHJvZHVjdHMtYWdnclwiLCBnZXRQcm9kdWN0c0FnZ3IpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC1wcm9kdWN0Lzpwcm9kdWN0aWRcIiwgZ2V0UHJvZHVjdCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXByb2R1Y3QvOnByb2R1Y3RpZFwiLCB1cGRhdGVQcm9kdWN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtcHJvZHVjdC86cHJvZHVjdGlkXCIsIGRlbGV0ZVByb2R1Y3QpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQU8yQyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUMzQyxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxjQUFjLEVBQUVDLG1CQUFVLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLGVBQWUsRUFBRUMsb0JBQVcsQ0FBQztBQUN4Q04sTUFBTSxDQUFDSyxHQUFHLENBQUMsb0JBQW9CLEVBQUVFLHdCQUFlLENBQUM7QUFDakRQLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLHlCQUF5QixFQUFFRyxtQkFBVSxDQUFDO0FBQ2pEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRUMsc0JBQWEsQ0FBQztBQUN2RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLHNCQUFhLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU1Q0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_product","obj","__esModule","default","router","express","Router","post","addProduct","get","getProducts","getProductsAggr","getProduct","put","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["product.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addProduct,\r\n  deleteProduct,\r\n  getProduct,\r\n  getProducts,\r\n  getProductsAggr,\r\n  updateProduct,\r\n} from \"../controllers/product.controller\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-product\", addProduct);\r\nrouter.get(\"/get-products\", getProducts);\r\nrouter.get(\"/get-products-aggr\", getProductsAggr);\r\nrouter.get(\"/get-product/:productid\", getProduct);\r\nrouter.put(\"/update-product/:productid\", updateProduct);\r\nrouter.delete(\"/delete-product/:productid\", deleteProduct);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAO2C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEC,oBAAW,CAAC;AACxCN,MAAM,CAACK,GAAG,CAAC,oBAAoB,EAAEE,wBAAe,CAAC;AACjDP,MAAM,CAACK,GAAG,CAAC,yBAAyB,EAAEG,mBAAU,CAAC;AACjDR,MAAM,CAACS,GAAG,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AACvDV,MAAM,CAACW,MAAM,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE5CC,MAAM","ignoreList":[]}},"mtime":1715167858626},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\product.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addProduct = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"thumbnail\",\n  maxCount: 1\n}, {\n  name: \"images\",\n  maxCount: 10\n}]));\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\nconst addProduct = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = null;\n    let images = [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const newProduct = new _product.default({\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    });\n    const saveData = await newProduct.save();\n    return res.status(201).json({\n      data: saveData,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addProduct = addProduct;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = req.body.thumbnail;\n    let images = req.body.images ? req.body.images.split(\",\") : [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        const oldProduct = await _product.default.findById(productid);\n        deleteFile(\"./uploads/\".concat(oldProduct.thumbnail));\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        const oldProduct = await _product.default.findById(productid);\n        oldProduct.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const updatedProduct = await _product.default.findByIdAndUpdate(productid, {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    }, {\n      new: true\n    });\n    if (updatedProduct) {\n      return res.status(200).json({\n        message: \"Product updated successfully\",\n        success: true,\n        data: updatedProduct\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to update product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid);\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n    if (product.thumbnail) {\n      deleteFile(\"./uploads/\".concat(product.thumbnail));\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n    }\n    await _product.default.findByIdAndDelete(productid);\n    return res.status(200).json({\n      message: \"Product deleted successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\nconst getProducts = async (req, res) => {\n  try {\n    const {\n      page = 1,\n      limit = 10,\n      search = \"\",\n      sort\n    } = req.query;\n    const skipno = limit * (page - 1);\n    const rgx = pattern => new RegExp(\".*\".concat(pattern, \".*\"), \"i\");\n    const searchRgx = rgx(search);\n    let filter = search ? {\n      $or: [{\n        title: {\n          $regex: searchRgx\n        }\n      }, {\n        description: {\n          $regex: searchRgx\n        }\n      }]\n    } : {};\n    let sortValue = [\"_id\", 1];\n    if (sort === \"new\") sortValue = [\"_id\", -1];\n    if (sort === \"lth\") sortValue = [\"price\", 1];\n    if (sort === \"htl\") sortValue = [\"price\", -1];\n    const products = await _product.default.find(filter).populate(\"category\").limit(parseInt(limit)).skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await _product.default.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJhZGRQcm9kdWN0IiwicmVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YWlsYWJsZWluIiwicHJpY2UiLCJxdWFudGl0eSIsImNhdGVnb3J5IiwiYm9keSIsInRodW1ibmFpbCIsImltYWdlcyIsImZpbGVzIiwibWFwIiwibmV3UHJvZHVjdCIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnIiLCJleHBvcnRzIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3RpZCIsInBhcmFtcyIsInNwbGl0Iiwib2xkUHJvZHVjdCIsImZpbmRCeUlkIiwiZm9yRWFjaCIsImltYWdlIiwidXBkYXRlZFByb2R1Y3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibGVuZ3RoIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRQcm9kdWN0cyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaCIsInNvcnQiLCJxdWVyeSIsInNraXBubyIsInJneCIsInBhdHRlcm4iLCJSZWdFeHAiLCJzZWFyY2hSZ3giLCJmaWx0ZXIiLCIkb3IiLCIkcmVnZXgiLCJzb3J0VmFsdWUiLCJwcm9kdWN0cyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhcnNlSW50Iiwic2tpcCIsImNvdW50IiwiZ2V0UHJvZHVjdHNBZ2dyIiwiYWdncmVnYXRlIiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkdW53aW5kIiwiZ2V0UHJvZHVjdCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9kdWN0TW9kZWwgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0Lm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB1dGlsIGZyb20gXCJ1dGlsXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZFBhdGggPSBcIi4vdXBsb2Fkc1wiO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZFBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgIH1cclxuICAgIGNiKG51bGwsIHVwbG9hZFBhdGgpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZS5vcmlnaW5hbG5hbWUsIGV4dCk7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9IGAke25hbWV9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKFxyXG4gICAgICBNYXRoLnJhbmRvbSgpICogMWU5XHJcbiAgICApfSR7ZXh0fWA7XHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuY29uc3QgdXBsb2FkRmlsZXMgPSB1dGlsLnByb21pc2lmeShcclxuICB1cGxvYWQuZmllbGRzKFtcclxuICAgIHsgbmFtZTogXCJ0aHVtYm5haWxcIiwgbWF4Q291bnQ6IDEgfSxcclxuICAgIHsgbmFtZTogXCJpbWFnZXNcIiwgbWF4Q291bnQ6IDEwIH0sXHJcbiAgXSlcclxuKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUZpbGUgPSAoZmlsZXBhdGgpID0+IHtcclxuICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlcGF0aCkpIHtcclxuICAgIGZzLnVubGlua1N5bmMoZmlsZXBhdGgpO1xyXG4gIH1cclxufTsgIFxyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG5cclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBhdmFpbGFibGVpbiwgcHJpY2UsIHF1YW50aXR5LCBjYXRlZ29yeSB9ID1cclxuICAgICAgcmVxLmJvZHk7XHJcbiAgICBsZXQgdGh1bWJuYWlsID0gbnVsbDtcclxuICAgIGxldCBpbWFnZXMgPSBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl0gJiYgcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdKSB7XHJcbiAgICAgICAgdGh1bWJuYWlsID0gcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdLmZpbGVuYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJpbWFnZXNcIl0pIHtcclxuICAgICAgICBpbWFnZXMgPSByZXEuZmlsZXNbXCJpbWFnZXNcIl0ubWFwKChmaWxlKSA9PiBmaWxlLmZpbGVuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld1Byb2R1Y3QgPSBuZXcgcHJvZHVjdE1vZGVsKHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBhdmFpbGFibGVpbixcclxuICAgICAgcHJpY2UsXHJcbiAgICAgIHF1YW50aXR5LFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICBpbWFnZXMsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBhd2FpdCB1cGxvYWRGaWxlcyhyZXEsIHJlcyk7XHJcblxyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGF2YWlsYWJsZWluLCBwcmljZSwgcXVhbnRpdHksIGNhdGVnb3J5IH0gPVxyXG4gICAgICByZXEuYm9keTtcclxuXHJcbiAgICBsZXQgdGh1bWJuYWlsID0gcmVxLmJvZHkudGh1bWJuYWlsO1xyXG4gICAgbGV0IGltYWdlcyA9IHJlcS5ib2R5LmltYWdlcyA/IHJlcS5ib2R5LmltYWdlcy5zcGxpdChcIixcIikgOiBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl0gJiYgcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke29sZFByb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4gICAgICAgIHRodW1ibmFpbCA9IHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVxLmZpbGVzW1wiaW1hZ2VzXCJdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIG9sZFByb2R1Y3QuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtpbWFnZX1gKSk7XHJcbiAgICAgICAgaW1hZ2VzID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgcHJvZHVjdGlkLFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgYXZhaWxhYmxlaW4sXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgcXVhbnRpdHksXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICAgIGltYWdlcyxcclxuICAgICAgfSxcclxuICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCk7XHJcblxyXG4gICAgaWYgKCFwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IG5vdCBmb3VuZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvZHVjdC50aHVtYm5haWwpIHtcclxuICAgICAgZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7cHJvZHVjdC50aHVtYm5haWx9YCk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvZHVjdC5pbWFnZXMgJiYgcHJvZHVjdC5pbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBwcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShwcm9kdWN0aWQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBwYWdlID0gMSwgbGltaXQgPSAxMCwgc2VhcmNoID0gXCJcIiwgc29ydCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgY29uc3Qgc2tpcG5vID0gbGltaXQgKiAocGFnZSAtIDEpO1xyXG4gICAgY29uc3Qgcmd4ID0gKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAoYC4qJHtwYXR0ZXJufS4qYCwgXCJpXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoUmd4ID0gcmd4KHNlYXJjaCk7XHJcblxyXG4gICAgbGV0IGZpbHRlciA9IHNlYXJjaFxyXG4gICAgICA/IHtcclxuICAgICAgICAgICRvcjogW1xyXG4gICAgICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogc2VhcmNoUmd4IH0gfSxcclxuICAgICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBsZXQgc29ydFZhbHVlID0gW1wiX2lkXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwibmV3XCIpIHNvcnRWYWx1ZSA9IFtcIl9pZFwiLCAtMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJsdGhcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJodGxcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgLTFdO1xyXG5cclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgcHJvZHVjdE1vZGVsXHJcbiAgICAgIC5maW5kKGZpbHRlcilcclxuICAgICAgLnBvcHVsYXRlKFwiY2F0ZWdvcnlcIilcclxuICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcclxuICAgICAgLnNraXAoc2tpcG5vKVxyXG4gICAgICAuc29ydChbc29ydFZhbHVlXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzQWdnciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbC5hZ2dyZWdhdGUoW1xyXG4gICAgICB7XHJcbiAgICAgICAgJGxvb2t1cDoge1xyXG4gICAgICAgICAgZnJvbTogXCJjYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICBsb2NhbEZpZWxkOiBcImNhdGVnb3J5XCIsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6IFwiX2lkXCIsXHJcbiAgICAgICAgICBhczogXCJjYXRlZ29yeURhdGFcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7ICR1bndpbmQ6IFwiJGNhdGVnb3J5RGF0YVwiIH0sXHJcbiAgICBdKTtcclxuXHJcbiAgICBpZiAocHJvZHVjdHMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogcHJvZHVjdHMubGVuZ3RoLFxyXG4gICAgICAgIGRhdGE6IHByb2R1Y3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0aWQgPSByZXEucGFyYW1zLnByb2R1Y3RpZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKS5wb3B1bGF0ZShcImNhdGVnb3J5XCIpO1xyXG5cclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogcHJvZHVjdCxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFD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","map":{"version":3,"names":["_product","_interopRequireDefault","require","_multer","_fs","_path","_util","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","addProduct","res","title","description","availablein","price","quantity","category","body","thumbnail","images","files","map","newProduct","productModel","saveData","save","status","json","data","message","success","err","exports","updateProduct","productid","params","split","oldProduct","findById","forEach","image","updatedProduct","findByIdAndUpdate","new","deleteProduct","product","length","findByIdAndDelete","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","searchRgx","filter","$or","$regex","sortValue","products","find","populate","parseInt","skip","count","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["product.controller.js"],"sourcesContent":["import productModel from \"../models/product.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([\r\n    { name: \"thumbnail\", maxCount: 1 },\r\n    { name: \"images\", maxCount: 10 },\r\n  ])\r\n);\r\n\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};  \r\n\r\nexport const addProduct = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n    let thumbnail = null;\r\n    let images = [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const newProduct = new productModel({\r\n      title,\r\n      description,\r\n      availablein,\r\n      price,\r\n      quantity,\r\n      category,\r\n      thumbnail,\r\n      images,\r\n    });\r\n\r\n    const saveData = await newProduct.save();\r\n\r\n    return res.status(201).json({\r\n      data: saveData,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n\r\n    let thumbnail = req.body.thumbnail;\r\n    let images = req.body.images ? req.body.images.split(\",\") : [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const updatedProduct = await productModel.findByIdAndUpdate(\r\n      productid,\r\n      {\r\n        title,\r\n        description,\r\n        availablein,\r\n        price,\r\n        quantity,\r\n        category,\r\n        thumbnail,\r\n        images,\r\n      },\r\n      { new: true }\r\n    );\r\n\r\n    if (updatedProduct) {\r\n      return res.status(200).json({\r\n        message: \"Product updated successfully\",\r\n        success: true,\r\n        data: updatedProduct,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Failed to update product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid);\r\n\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    if (product.thumbnail) {\r\n      deleteFile(`./uploads/${product.thumbnail}`);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n    }\r\n\r\n    await productModel.findByIdAndDelete(productid);\r\n\r\n    return res.status(200).json({\r\n      message: \"Product deleted successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n    const skipno = limit * (page - 1);\r\n    const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = search\r\n      ? {\r\n          $or: [\r\n            { title: { $regex: searchRgx } },\r\n            { description: { $regex: searchRgx } },\r\n          ],\r\n        }\r\n      : {};\r\n\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort === \"new\") sortValue = [\"_id\", -1];\r\n    if (sort === \"lth\") sortValue = [\"price\", 1];\r\n    if (sort === \"htl\") sortValue = [\"price\", -1];\r\n\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit))\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid).populate(\"category\");\r\n\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1717675000949},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\product.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _category = _interopRequireDefault(require(\"./category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst productSchema = new Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: Schema.Types.ObjectId,\n    required: true,\n    ref: _category.default\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  avaliablein: {\n    type: String,\n    default: null\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  sizes: {\n    type: Array,\n    default: [34, 36, 38, 40, 42, 44, 46]\n  },\n  thumbnail: {\n    type: String,\n    default: null\n  },\n  images: {\n    type: [String],\n    default: [1, 2, 3, 4]\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"product\", productSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jYXRlZ29yeSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJwcm9kdWN0U2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjYXRlZ29yeU1vZGVsIiwiZGVzY3JpcHRpb24iLCJhdmFsaWFibGVpbiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJzaXplcyIsIkFycmF5IiwidGh1bWJuYWlsIiwiaW1hZ2VzIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgY2F0ZWdvcnlNb2RlbCBmcm9tIFwiLi9jYXRlZ29yeS5tb2RlbFwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGl0bGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY2F0ZWdvcnk6IHtcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgcmVmOiBjYXRlZ29yeU1vZGVsLFxyXG4gIH0sXHJcbiAgZGVzY3JpcHRpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBhdmFsaWFibGVpbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHF1YW50aXR5OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByaWNlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBzaXplczoge1xyXG4gICAgdHlwZTogQXJyYXksXHJcbiAgICBkZWZhdWx0OiBbMzQsIDM2LCAzOCwgNDAsIDQyLCA0NCwgNDZdLFxyXG4gIH0sXHJcbiAgdGh1bWJuYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgaW1hZ2VzOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFsxLCAyLCAzLCA0XSxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0XCIsIHByb2R1Y3RTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM3QyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsYUFBYSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUMvQkcsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFFBQVEsRUFBRTtJQUNSSCxJQUFJLEVBQUVKLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDQyxRQUFRO0lBQzNCSCxRQUFRLEVBQUUsSUFBSTtJQUNkSSxHQUFHLEVBQUVDO0VBQ1AsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWFIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsV0FBVyxFQUFFO0lBQ1hULElBQUksRUFBRUMsTUFBTTtJQUNaTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RlLFFBQVEsRUFBRTtJQUNSVixJQUFJLEVBQUVXLE1BQU07SUFDWlQsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEVSxLQUFLLEVBQUU7SUFDTFosSUFBSSxFQUFFVyxNQUFNO0lBQ1pULFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFRFcsS0FBSyxFQUFFO0lBQ0xiLElBQUksRUFBRWMsS0FBSztJQUNYbkIsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtFQUN0QyxDQUFDO0VBQ0RvQixTQUFTLEVBQUU7SUFDVGYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRHFCLE1BQU0sRUFBRTtJQUNOaEIsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0VBQ3RCLENBQUM7RUFDRHNCLE1BQU0sRUFBRTtJQUNOakIsSUFBSSxFQUFFVyxNQUFNO0lBQ1poQixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0R1QixVQUFVLEVBQUU7SUFDVmxCLElBQUksRUFBRW1CLElBQUk7SUFDVnhCLE9BQU8sRUFBRXdCLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUEzQixPQUFBLEdBRVlFLGlCQUFRLENBQUMwQixLQUFLLENBQUMsU0FBUyxFQUFFekIsYUFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_category","obj","__esModule","default","Schema","mongoose","productSchema","title","type","String","required","category","Types","ObjectId","ref","categoryModel","description","avaliablein","quantity","Number","price","sizes","Array","thumbnail","images","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["product.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport categoryModel from \"./category.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst productSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  category: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: categoryModel,\r\n  },\r\n  description: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  avaliablein: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n\r\n  sizes: {\r\n    type: Array,\r\n    default: [34, 36, 38, 40, 42, 44, 46],\r\n  },\r\n  thumbnail: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  images: {\r\n    type: [String],\r\n    default: [1, 2, 3, 4],\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"product\", productSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7C,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,aAAa,GAAG,IAAIF,MAAM,CAAC;EAC/BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEJ,MAAM,CAACQ,KAAK,CAACC,QAAQ;IAC3BH,QAAQ,EAAE,IAAI;IACdI,GAAG,EAAEC;EACP,CAAC;EACDC,WAAW,EAAE;IACXR,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDc,WAAW,EAAE;IACXT,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDe,QAAQ,EAAE;IACRV,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EACDU,KAAK,EAAE;IACLZ,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EAEDW,KAAK,EAAE;IACLb,IAAI,EAAEc,KAAK;IACXnB,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EACtC,CAAC;EACDoB,SAAS,EAAE;IACTf,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDqB,MAAM,EAAE;IACNhB,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EACtB,CAAC;EACDsB,MAAM,EAAE;IACNjB,IAAI,EAAEW,MAAM;IACZhB,OAAO,EAAE;EACX,CAAC;EACDuB,UAAU,EAAE;IACVlB,IAAI,EAAEmB,IAAI;IACVxB,OAAO,EAAEwB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAA3B,OAAA,GAEYE,iBAAQ,CAAC0B,KAAK,CAAC,SAAS,EAAEzB,aAAa,CAAC","ignoreList":[]}},"mtime":1715804608148},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlci5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRVc2VyLFxyXG4gIGRlbGV0ZVVzZXIsXHJcbiAgZ2V0VXNlcixcclxuICBsb2dpbixcclxuICBzaWduVXAsXHJcbiAgZ2V0VXNlcnMsXHJcbiAgdXBkYXRlVXNlcixcclxufSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXVzZXJcIiwgYWRkVXNlcik7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXVzZXJzXCIsIGdldFVzZXJzKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlci86dXNlcmlkXCIsIGdldFVzZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS11c2VyLzp1c2VyaWRcIiwgdXBkYXRlVXNlcik7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXVzZXIvOnVzZXJpZFwiLCBkZWxldGVVc2VyKTtcclxuXHJcbi8vIEF1dGhcclxucm91dGVyLnBvc3QoXCIvc2lnbi11cFwiLCBzaWduVXApO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBUXdDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBTyxDQUFDO0FBQ2pDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxZQUFZLEVBQUVDLGNBQVEsQ0FBQztBQUNsQ04sTUFBTSxDQUFDSyxHQUFHLENBQUMsbUJBQW1CLEVBQUVFLGFBQU8sQ0FBQztBQUN4Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7QUFDOUNULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDLHNCQUFzQixFQUFFQyxnQkFBVSxDQUFDOztBQUVqRDtBQUNBWCxNQUFNLENBQUNHLElBQUksQ0FBQyxVQUFVLEVBQUVTLFlBQU0sQ0FBQztBQUMvQlosTUFBTSxDQUFDRyxJQUFJLENBQUMsUUFBUSxFQUFFVSxXQUFLLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFZEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1715687595630},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    if (_fs.default.existsSync(\"./uploads\")) {\n      cb(null, \"./uploads\");\n    } else {\n      _fs.default.mkdirSync(\"./uploads\");\n      cb(null, \"./uploads\");\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n\n      // Hash the password if it's provided\n      let hashedPassword = password;\n      if (password) {\n        hashedPassword = _bcrypt.default.hashSync(password, 10);\n      }\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: hashedPassword,\n          // Use the hashed password\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      contact\n    } = req.body;\n    const existUser = await _user.default.findOne({\n      email: email\n    });\n    if (existUser) {\n      return res.status(200).json({\n        message: \"User already exist\",\n        success: false\n      });\n    }\n    const hashPassword = _bcrypt.default.hashSync(password, 10);\n    console.log(hashPassword);\n    const saveData = await _user.default.create({\n      name: name,\n      email: email,\n      password: hashPassword,\n      contact: contact\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"your_secret_key_here\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiZmlsZW5hbWUiLCJvcmdOYW1lIiwib3JpZ2luYWxuYW1lIiwiZXh0IiwicGF0aCIsInBhcnNlIiwibmFtZSIsImZ1bGxuYW1lIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInVwbG9hZCIsImFkZFVzZXIiLCJyZXMiLCJkYXRhV2l0aEZpbGUiLCJzaW5nbGUiLCJlcnIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImltZyIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0Iiwic2F2ZURhdGEiLCJVc2VyTW9kZWwiLCJjcmVhdGUiLCJpbWFnZSIsImRhdGEiLCJleHBvcnRzIiwiZ2V0VXNlcnMiLCJ1c2VyRGF0YSIsImZpbmQiLCJmaWxlcGF0aCIsImdldFVzZXIiLCJ1c2VyaWQiLCJwYXJhbXMiLCJmaW5kT25lIiwiX2lkIiwidXBkYXRlVXNlciIsImV4aXN0aW5nVXNlciIsInVubGlua1N5bmMiLCJoYXNoZWRQYXNzd29yZCIsImJjcnlwdCIsImhhc2hTeW5jIiwidXNlciIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVVc2VyIiwiZGVsZXRlT25lIiwic2lnblVwIiwiZXhpc3RVc2VyIiwiaGFzaFBhc3N3b3JkIiwibG9naW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiZXhwaXJlc0luIiwicmVzcG9uc2VEYXRhIiwidG9PYmplY3QiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlck1vZGVsIGZyb20gXCIuLi9tb2RlbHMvdXNlci5tb2RlbFwiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuL3VwbG9hZHNcIikpIHtcclxuICAgICAgY2IobnVsbCwgXCIuL3VwbG9hZHNcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmcy5ta2RpclN5bmMoXCIuL3VwbG9hZHNcIik7XHJcbiAgICAgIGNiKG51bGwsIFwiLi91cGxvYWRzXCIpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBvcmdOYW1lID0gZmlsZS5vcmlnaW5hbG5hbWU7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLnBhcnNlKG9yZ05hbWUpLmV4dDtcclxuICAgIGNvbnN0IG5hbWUgPSBwYXRoLnBhcnNlKG9yZ05hbWUpLm5hbWU7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9XHJcbiAgICAgIG5hbWUgKyBcIi1cIiArIERhdGUubm93KCkgKyBcIlwiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMWU5KSArIGV4dDtcclxuXHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YVdpdGhGaWxlID0gdXBsb2FkLnNpbmdsZShcImF2YXRhclwiKTtcclxuXHJcbiAgICBkYXRhV2l0aEZpbGUocmVxLCByZXMsIGFzeW5jIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVycilcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgICAgY29uc29sZS5sb2cocmVxLmZpbGUpO1xyXG5cclxuICAgICAgbGV0IGltZyA9IG51bGw7XHJcbiAgICAgIGlmIChyZXEuZmlsZSkge1xyXG4gICAgICAgIGltZyA9IHJlcS5maWxlLmZpbGVuYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0IH0gPSByZXEuYm9keTtcclxuICAgICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgY29udGFjdDogY29udGFjdCxcclxuICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCgpO1xyXG4gICAgaWYgKHVzZXJEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZmlsZXBhdGg6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAxL3VwbG9hZHMvXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZpbGVwYXRoOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS91cGxvYWRzL1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGFXaXRoRmlsZSA9IHVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIik7XHJcblxyXG4gICAgZGF0YVdpdGhGaWxlKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICAgIGxldCBpbWcgPSBleGlzdGluZ1VzZXIuaW1hZ2U7XHJcbiAgICAgIGlmIChyZXEuZmlsZSkge1xyXG4gICAgICAgIGltZyA9IHJlcS5maWxlLmZpbGVuYW1lO1xyXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKSkge1xyXG4gICAgICAgICAgZnMudW5saW5rU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIC8vIEhhc2ggdGhlIHBhc3N3b3JkIGlmIGl0J3MgcHJvdmlkZWRcclxuICAgICAgbGV0IGhhc2hlZFBhc3N3b3JkID0gcGFzc3dvcmQ7XHJcbiAgICAgIGlmIChwYXNzd29yZCkge1xyXG4gICAgICAgIGhhc2hlZFBhc3N3b3JkID0gYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiB1c2VyaWQgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLCAvLyBVc2UgdGhlIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiRGVsZXRlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIEF1dGhcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgZXhpc3RVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICBpZiAoZXhpc3RVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGFscmVhZHkgZXhpc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNoUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgIGNvbnNvbGUubG9nKGhhc2hQYXNzd29yZCk7XHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzc3dvcmQsXHJcbiAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBleGlzdGluZ1VzZXIucGFzc3dvcmQpO1xyXG4gICAgaWYgKCFjb21wYXJlUGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwYXNzd29yZHMgbWF0Y2gsIGdlbmVyYXRlIEpXVCB0b2tlblxyXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBleGlzdGluZ1VzZXIuX2lkLFxyXG4gICAgICAgIGVtYWlsOiBleGlzdGluZ1VzZXIuZW1haWwsXHJcbiAgICAgIH0sXHJcbiAgICAgIFwieW91cl9zZWNyZXRfa2V5X2hlcmVcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgc2VjcmV0IGtleVxyXG4gICAgICB7IGV4cGlyZXNJbjogXCIxaFwiIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gRXhjbHVkZSBwYXNzd29yZCBmcm9tIHJlc3BvbnNlIGRhdGFcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHsgLi4uZXhpc3RpbmdVc2VyLnRvT2JqZWN0KCkgfTtcclxuICAgIGRlbGV0ZSByZXNwb25zZURhdGEucGFzc3dvcmQ7XHJcblxyXG4gICAgLy8gU2VuZCB0b2tlbiBhbmQgdXNlciBkYXRhIGluIHJlc3BvbnNlXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxHQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDL0IsTUFBTUcsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUNqQ0MsV0FBVyxFQUFFLFNBQUFBLENBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDcEMsSUFBSUMsV0FBRSxDQUFDQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7TUFDOUJGLEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDO0lBQ3ZCLENBQUMsTUFBTTtNQUNMQyxXQUFFLENBQUNFLFNBQVMsQ0FBQyxXQUFXLENBQUM7TUFDekJILEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDO0lBQ3ZCO0VBQ0YsQ0FBQztFQUNESSxRQUFRLEVB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","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","hashedPassword","bcrypt","hashSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","existUser","hashPassword","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    if (fs.existsSync(\"./uploads\")) {\r\n      cb(null, \"./uploads\");\r\n    } else {\r\n      fs.mkdirSync(\"./uploads\");\r\n      cb(null, \"./uploads\");\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n\r\n      // Hash the password if it's provided\r\n      let hashedPassword = password;\r\n      if (password) {\r\n        hashedPassword = bcrypt.hashSync(password, 10);\r\n      }\r\n\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: hashedPassword, // Use the hashed password\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\n\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    const { name, email, password, contact } = req.body;\r\n\r\n    const existUser = await UserModel.findOne({ email: email });\r\n    if (existUser) {\r\n      return res.status(200).json({\r\n        message: \"User already exist\",\r\n        success: false,\r\n      });\r\n    }\r\n    const hashPassword = bcrypt.hashSync(password, 10);\r\n    console.log(hashPassword);\r\n    const saveData = await UserModel.create({\r\n      name: name,\r\n      email: email,\r\n      password: hashPassword,\r\n      contact: contact,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"your_secret_key_here\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }\r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1716118272250},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBuYW1lOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGNvbnRhY3Q6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsIFVzZXJTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERSxRQUFRLEVBQUU7SUFDUkosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREcsT0FBTyxFQUFFO0lBQ1BMLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RZLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVDLE1BQU07SUFDWk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxNQUFNLEVBQUU7SUFDTlIsSUFBSSxFQUFFTSxNQUFNO0lBQ1pYLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsVUFBVSxFQUFFO0lBQ1ZULElBQUksRUFBRVUsSUFBSTtJQUNWZixPQUFPLEVBQUVlLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRVlFLGlCQUFRLENBQUNpQixLQUFLLENBQUMsTUFBTSxFQUFFaEIsVUFBVSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","name","type","String","required","email","password","contact","Number","image","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IACJC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDE,QAAQ,EAAE;IACRJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,OAAO,EAAE;IACPL,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDY,KAAK,EAAE;IACLP,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDa,MAAM,EAAE;IACNR,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDc,UAAU,EAAE;IACVT,IAAI,EAAEU,IAAI;IACVf,OAAO,EAAEe,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEYE,iBAAQ,CAACiB,KAAK,CAAC,MAAM,EAAEhB,UAAU,CAAC","ignoreList":[]}},"mtime":1714562444651},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\category.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _category = require(\"../controllers/category.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-category\", _category.addCategory);\nrouter.get(\"/get-categories\", _category.getCategories);\nrouter.get(\"/get-category/:categoryid\", _category.getCategory);\nrouter.put(\"/update-category/:categoryid\", _category.updateCategory);\nrouter.delete(\"/delete-category/:categoryid\", _category.deleteCategory);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGVnb3J5Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImFkZENhdGVnb3J5IiwiZ2V0IiwiZ2V0Q2F0ZWdvcmllcyIsImdldENhdGVnb3J5IiwicHV0IiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGUiLCJkZWxldGVDYXRlZ29yeSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXRlZ29yeS5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRDYXRlZ29yeSxcclxuICBkZWxldGVDYXRlZ29yeSxcclxuICBnZXRDYXRlZ29yaWVzLFxyXG4gIGdldENhdGVnb3J5LFxyXG4gIHVwZGF0ZUNhdGVnb3J5LFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy9jYXRlZ29yeS5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLWNhdGVnb3J5XCIsIGFkZENhdGVnb3J5KTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcmllc1wiLCBnZXRDYXRlZ29yaWVzKTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcnkvOmNhdGVnb3J5aWRcIiwgZ2V0Q2F0ZWdvcnkpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS1jYXRlZ29yeS86Y2F0ZWdvcnlpZFwiLCB1cGRhdGVDYXRlZ29yeSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLWNhdGVnb3J5LzpjYXRlZ29yeWlkXCIsIGRlbGV0ZUNhdGVnb3J5KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBTTRDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGVBQWUsRUFBRUMscUJBQVcsQ0FBQztBQUN6Q0osTUFBTSxDQUFDSyxHQUFHLENBQUMsaUJBQWlCLEVBQUVDLHVCQUFhLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLDJCQUEyQixFQUFFRSxxQkFBVyxDQUFDO0FBQ3BEUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRUMsd0JBQWMsQ0FBQztBQUMxRFQsTUFBTSxDQUFDVSxNQUFNLENBQUMsOEJBQThCLEVBQUVDLHdCQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWQsT0FBQSxHQUMvQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_category","obj","__esModule","default","router","express","Router","post","addCategory","get","getCategories","getCategory","put","updateCategory","delete","deleteCategory","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["category.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n  getCategory,\r\n  updateCategory,\r\n} from \"../controllers/category.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-category\", addCategory);\r\nrouter.get(\"/get-categories\", getCategories);\r\nrouter.get(\"/get-category/:categoryid\", getCategory);\r\nrouter.put(\"/update-category/:categoryid\", updateCategory);\r\nrouter.delete(\"/delete-category/:categoryid\", deleteCategory);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAM4C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,eAAe,EAAEC,qBAAW,CAAC;AACzCJ,MAAM,CAACK,GAAG,CAAC,iBAAiB,EAAEC,uBAAa,CAAC;AAC5CN,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEE,qBAAW,CAAC;AACpDP,MAAM,CAACQ,GAAG,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAC1DT,MAAM,CAACU,MAAM,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAC/CC,MAAM","ignoreList":[]}},"mtime":1712733580848},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\category.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateCategory = exports.getCategory = exports.getCategories = exports.deleteCategory = exports.addCategory = void 0;\nvar _category = _interopRequireDefault(require(\"../models/category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addCategory = async (req, res) => {\n  try {\n    const {\n      categoryname,\n      categorytype,\n      description\n    } = req.body; // Corrected keys\n    const saveData = await _category.default.create({\n      categoryname: categoryname,\n      // Corrected key\n      categorytype: categorytype,\n      // Corrected key\n      description: description\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addCategory = addCategory;\nconst getCategories = async (req, res) => {\n  try {\n    const categories = await _category.default.find();\n    if (categories) {\n      return res.status(200).json({\n        data: categories,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategories = getCategories;\nconst getCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.findOne({\n      _id: categoryid\n    });\n    if (category) {\n      return res.status(200).json({\n        data: category,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategory = getCategory;\nconst updateCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const {\n      name,\n      description\n    } = req.body;\n    const category = await _category.default.updateOne({\n      _id: categoryid\n    }, {\n      $set: {\n        name: name,\n        description: description\n      }\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Updated!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateCategory = updateCategory;\nconst deleteCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.deleteOne({\n      _id: categoryid\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n      a;\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCategory = deleteCategory;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2F0ZWdvcnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYWRkQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeW5hbWUiLCJjYXRlZ29yeXR5cGUiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJzYXZlRGF0YSIsIkNhdGVnb3J5TW9kZWwiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZXJyIiwiZXhwb3J0cyIsImdldENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZmluZCIsImdldENhdGVnb3J5IiwiY2F0ZWdvcnlpZCIsInBhcmFtcyIsImNhdGVnb3J5IiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZUNhdGVnb3J5IiwibmFtZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVDYXRlZ29yeSIsImRlbGV0ZU9uZSIsImEiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhdGVnb3J5TW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYXRlZ29yeS5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeW5hbWUsIGNhdGVnb3J5dHlwZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5OyAvLyBDb3JyZWN0ZWQga2V5c1xyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIGNhdGVnb3J5bmFtZTogY2F0ZWdvcnluYW1lLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGNhdGVnb3J5dHlwZTogY2F0ZWdvcnl0eXBlLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yaWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmQoKTtcclxuICAgIGlmIChjYXRlZ29yaWVzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogY2F0ZWdvcmllcyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYXRlZ29yeWlkID0gcmVxLnBhcmFtcy5jYXRlZ29yeWlkO1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXRlZ29yeSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhdGVnb3J5aWQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGlmIChjYXRlZ29yeS5hY2tub3dsZWRnZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnlNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO2FcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM5QyxNQUFNRyxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsSUFBSTtJQUNGLE1BQU07TUFBRUMsWUFBWTtNQUFFQyxZQUFZO01BQUVDO0lBQVksQ0FBQyxHQUFHSixHQUFHLENBQUNLLElBQUksQ0FBQyxDQUFDO0lBQzlELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxpQkFBYSxDQUFDQyxNQUFNLENBQUM7TUFDMUNOLFlBQVksRUFBRUEsWUFBWTtNQUFFO01BQzVCQyxZQUFZLEVBQUVBLFlBQVk7TUFBRTtNQUM1QkMsV0FBVyxFQUFFQTtJQUNmLENBQUMsQ0FBQztJQUVGLElBQUlFLFFBQVEsRUFBRTtNQUNaLE9BQU9MLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRUwsUUFBUTtRQUNkTSxPQUFPLEVBQUUsa0JB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","map":{"version":3,"names":["_category","_interopRequireDefault","require","obj","__esModule","default","addCategory","req","res","categoryname","categorytype","description","body","saveData","CategoryModel","create","status","json","data","message","success","err","exports","getCategories","categories","find","getCategory","categoryid","params","category","findOne","_id","updateCategory","name","updateOne","$set","acknowledged","deleteCategory","deleteOne","a"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["category.controller.js"],"sourcesContent":["import CategoryModel from \"../models/category.model\";\r\nexport const addCategory = async (req, res) => {\r\n  try {\r\n    const { categoryname, categorytype, description } = req.body; // Corrected keys\r\n    const saveData = await CategoryModel.create({\r\n      categoryname: categoryname, // Corrected key\r\n      categorytype: categorytype, // Corrected key\r\n      description: description,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCategories = async (req, res) => {\r\n  try {\r\n    const categories = await CategoryModel.find();\r\n    if (categories) {\r\n      return res.status(200).json({\r\n        data: categories,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.findOne({ _id: categoryid });\r\n    if (category) {\r\n      return res.status(200).json({\r\n        data: category,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const { name, description } = req.body;\r\n    const category = await CategoryModel.updateOne(\r\n      { _id: categoryid },\r\n      {\r\n        $set: {\r\n          name: name,\r\n          description: description,\r\n        },\r\n      }\r\n    );\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Updated!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.deleteOne({ _id: categoryid });\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });a\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1715164761286},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\category.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst CategorySchema = new Schema({\n  categoryname: {\n    type: String,\n    required: true\n  },\n  categorytype: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"category\", CategorySchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJDYXRlZ29yeVNjaGVtYSIsImNhdGVnb3J5bmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImNhdGVnb3J5dHlwZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJOdW1iZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcnkubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBDYXRlZ29yeVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGNhdGVnb3J5bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBjYXRlZ29yeXR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcblxyXG5kZXNjcmlwdGlvbjp7XHJcbiAgdHlwZTpTdHJpbmcsXHJcbiAgZGVmYXVsdDpudWxsXHJcbn0sXHJcblxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcblxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcnlcIiwgQ2F0ZWdvcnlTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsY0FBYyxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUNoQ0csWUFBWSxFQUFFO0lBQ1pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFlBQVksRUFBRTtJQUNaSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVERSxLQUFLLEVBQUU7SUFDTEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFSFUsV0FBVyxFQUFDO0lBQ1ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYTixPQUFPLEVBQUM7RUFDVixDQUFDO0VBRUNXLE1BQU0sRUFBRTtJQUNOTixJQUFJLEVBQUVPLE1BQU07SUFDWlosT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxVQUFVLEVBQUU7SUFDVlIsSUFBSSxFQUFFUyxJQUFJO0lBQ1ZkLE9BQU8sRUFBRWMsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDcEI7QUFFRixDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpCLE9BQUEsR0FFWUUsaUJBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxVQUFVLEVBQUVmLGNBQWMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","CategorySchema","categoryname","type","String","required","categorytype","image","description","status","Number","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["category.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst CategorySchema = new Schema({\r\n  categoryname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  categorytype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n\r\ndescription:{\r\n  type:String,\r\n  default:null\r\n},\r\n\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n\r\n});\r\n\r\nexport default mongoose.model(\"category\", CategorySchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,cAAc,GAAG,IAAIF,MAAM,CAAC;EAChCG,YAAY,EAAE;IACZC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,YAAY,EAAE;IACZH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAEHU,WAAW,EAAC;IACVL,IAAI,EAACC,MAAM;IACXN,OAAO,EAAC;EACV,CAAC;EAECW,MAAM,EAAE;IACNN,IAAI,EAAEO,MAAM;IACZZ,OAAO,EAAE;EACX,CAAC;EACDa,UAAU,EAAE;IACVR,IAAI,EAAES,IAAI;IACVd,OAAO,EAAEc,IAAI,CAACC,GAAG,CAAC;EACpB;AAEF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GAEYE,iBAAQ,CAACgB,KAAK,CAAC,UAAU,EAAEf,cAAc,CAAC","ignoreList":[]}},"mtime":1715163779121},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\product.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _product = require(\"../controllers/product.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-product\", _product.addProduct);\nrouter.get(\"/get-products\", _product.getProducts);\nrouter.get(\"/get-products-aggr\", _product.getProductsAggr);\nrouter.get(\"/get-product/:productid\", _product.getProduct);\nrouter.put(\"/update-product/:productid\", _product.updateProduct);\nrouter.delete(\"/delete-product/:productid\", _product.deleteProduct);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkUHJvZHVjdCIsImdldCIsImdldFByb2R1Y3RzIiwiZ2V0UHJvZHVjdHNBZ2dyIiwiZ2V0UHJvZHVjdCIsInB1dCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVQcm9kdWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3Qucm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICBkZWxldGVQcm9kdWN0LFxyXG4gIGdldFByb2R1Y3QsXHJcbiAgZ2V0UHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdHNBZ2dyLFxyXG4gIHVwZGF0ZVByb2R1Y3QsXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Byb2R1Y3QuY29udHJvbGxlclwiO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXByb2R1Y3RcIiwgYWRkUHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXByb2R1Y3RzXCIsIGdldFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9nZXQtcHJvZHVjdHMtYWdnclwiLCBnZXRQcm9kdWN0c0FnZ3IpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC1wcm9kdWN0Lzpwcm9kdWN0aWRcIiwgZ2V0UHJvZHVjdCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXByb2R1Y3QvOnByb2R1Y3RpZFwiLCB1cGRhdGVQcm9kdWN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtcHJvZHVjdC86cHJvZHVjdGlkXCIsIGRlbGV0ZVByb2R1Y3QpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQU8yQyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUMzQyxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxjQUFjLEVBQUVDLG1CQUFVLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLGVBQWUsRUFBRUMsb0JBQVcsQ0FBQztBQUN4Q04sTUFBTSxDQUFDSyxHQUFHLENBQUMsb0JBQW9CLEVBQUVFLHdCQUFlLENBQUM7QUFDakRQLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLHlCQUF5QixFQUFFRyxtQkFBVSxDQUFDO0FBQ2pEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRUMsc0JBQWEsQ0FBQztBQUN2RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLHNCQUFhLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU1Q0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_product","obj","__esModule","default","router","express","Router","post","addProduct","get","getProducts","getProductsAggr","getProduct","put","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["product.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addProduct,\r\n  deleteProduct,\r\n  getProduct,\r\n  getProducts,\r\n  getProductsAggr,\r\n  updateProduct,\r\n} from \"../controllers/product.controller\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-product\", addProduct);\r\nrouter.get(\"/get-products\", getProducts);\r\nrouter.get(\"/get-products-aggr\", getProductsAggr);\r\nrouter.get(\"/get-product/:productid\", getProduct);\r\nrouter.put(\"/update-product/:productid\", updateProduct);\r\nrouter.delete(\"/delete-product/:productid\", deleteProduct);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAO2C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEC,oBAAW,CAAC;AACxCN,MAAM,CAACK,GAAG,CAAC,oBAAoB,EAAEE,wBAAe,CAAC;AACjDP,MAAM,CAACK,GAAG,CAAC,yBAAyB,EAAEG,mBAAU,CAAC;AACjDR,MAAM,CAACS,GAAG,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AACvDV,MAAM,CAACW,MAAM,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE5CC,MAAM","ignoreList":[]}},"mtime":1715167858626},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\product.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addProduct = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"thumbnail\",\n  maxCount: 1\n}, {\n  name: \"images\",\n  maxCount: 10\n}]));\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\nconst addProduct = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = null;\n    let images = [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const newProduct = new _product.default({\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    });\n    const saveData = await newProduct.save();\n    return res.status(201).json({\n      data: saveData,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addProduct = addProduct;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = req.body.thumbnail;\n    let images = req.body.images ? req.body.images.split(\",\") : [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        const oldProduct = await _product.default.findById(productid);\n        deleteFile(\"./uploads/\".concat(oldProduct.thumbnail));\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        const oldProduct = await _product.default.findById(productid);\n        oldProduct.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const updatedProduct = await _product.default.findByIdAndUpdate(productid, {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    }, {\n      new: true\n    });\n    if (updatedProduct) {\n      return res.status(200).json({\n        message: \"Product updated successfully\",\n        success: true,\n        data: updatedProduct\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to update product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid);\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n    if (product.thumbnail) {\n      deleteFile(\"./uploads/\".concat(product.thumbnail));\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n    }\n    await _product.default.findByIdAndDelete(productid);\n    return res.status(200).json({\n      message: \"Product deleted successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\nconst getProducts = async (req, res) => {\n  try {\n    const {\n      page = 1,\n      limit = 10,\n      search = \"\",\n      sort\n    } = req.query;\n    const skipno = limit * (page - 1);\n    const rgx = pattern => new RegExp(\".*\".concat(pattern, \".*\"), \"i\");\n    const searchRgx = rgx(search);\n    let filter = search ? {\n      $or: [{\n        title: {\n          $regex: searchRgx\n        }\n      }, {\n        description: {\n          $regex: searchRgx\n        }\n      }]\n    } : {};\n    let sortValue = [\"_id\", 1];\n    if (sort === \"new\") sortValue = [\"_id\", -1];\n    if (sort === \"lth\") sortValue = [\"price\", 1];\n    if (sort === \"htl\") sortValue = [\"price\", -1];\n    const products = await _product.default.find(filter).populate(\"category\").limit(parseInt(limit)).skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await _product.default.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJhZGRQcm9kdWN0IiwicmVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YWlsYWJsZWluIiwicHJpY2UiLCJxdWFudGl0eSIsImNhdGVnb3J5IiwiYm9keSIsInRodW1ibmFpbCIsImltYWdlcyIsImZpbGVzIiwibWFwIiwibmV3UHJvZHVjdCIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnIiLCJleHBvcnRzIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3RpZCIsInBhcmFtcyIsInNwbGl0Iiwib2xkUHJvZHVjdCIsImZpbmRCeUlkIiwiZm9yRWFjaCIsImltYWdlIiwidXBkYXRlZFByb2R1Y3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibGVuZ3RoIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRQcm9kdWN0cyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaCIsInNvcnQiLCJxdWVyeSIsInNraXBubyIsInJneCIsInBhdHRlcm4iLCJSZWdFeHAiLCJzZWFyY2hSZ3giLCJmaWx0ZXIiLCIkb3IiLCIkcmVnZXgiLCJzb3J0VmFsdWUiLCJwcm9kdWN0cyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhcnNlSW50Iiwic2tpcCIsImNvdW50IiwiZ2V0UHJvZHVjdHNBZ2dyIiwiYWdncmVnYXRlIiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkdW53aW5kIiwiZ2V0UHJvZHVjdCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9kdWN0TW9kZWwgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0Lm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB1dGlsIGZyb20gXCJ1dGlsXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZFBhdGggPSBcIi4vdXBsb2Fkc1wiO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZFBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgIH1cclxuICAgIGNiKG51bGwsIHVwbG9hZFBhdGgpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZS5vcmlnaW5hbG5hbWUsIGV4dCk7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9IGAke25hbWV9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKFxyXG4gICAgICBNYXRoLnJhbmRvbSgpICogMWU5XHJcbiAgICApfSR7ZXh0fWA7XHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuY29uc3QgdXBsb2FkRmlsZXMgPSB1dGlsLnByb21pc2lmeShcclxuICB1cGxvYWQuZmllbGRzKFtcclxuICAgIHsgbmFtZTogXCJ0aHVtYm5haWxcIiwgbWF4Q291bnQ6IDEgfSxcclxuICAgIHsgbmFtZTogXCJpbWFnZXNcIiwgbWF4Q291bnQ6IDEwIH0sXHJcbiAgXSlcclxuKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUZpbGUgPSAoZmlsZXBhdGgpID0+IHtcclxuICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlcGF0aCkpIHtcclxuICAgIGZzLnVubGlua1N5bmMoZmlsZXBhdGgpO1xyXG4gIH1cclxufTsgIFxyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG5cclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBhdmFpbGFibGVpbiwgcHJpY2UsIHF1YW50aXR5LCBjYXRlZ29yeSB9ID1cclxuICAgICAgcmVxLmJvZHk7XHJcbiAgICBsZXQgdGh1bWJuYWlsID0gbnVsbDtcclxuICAgIGxldCBpbWFnZXMgPSBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl0gJiYgcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdKSB7XHJcbiAgICAgICAgdGh1bWJuYWlsID0gcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdLmZpbGVuYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJpbWFnZXNcIl0pIHtcclxuICAgICAgICBpbWFnZXMgPSByZXEuZmlsZXNbXCJpbWFnZXNcIl0ubWFwKChmaWxlKSA9PiBmaWxlLmZpbGVuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld1Byb2R1Y3QgPSBuZXcgcHJvZHVjdE1vZGVsKHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBhdmFpbGFibGVpbixcclxuICAgICAgcHJpY2UsXHJcbiAgICAgIHF1YW50aXR5LFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICBpbWFnZXMsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBhd2FpdCB1cGxvYWRGaWxlcyhyZXEsIHJlcyk7XHJcblxyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGF2YWlsYWJsZWluLCBwcmljZSwgcXVhbnRpdHksIGNhdGVnb3J5IH0gPVxyXG4gICAgICByZXEuYm9keTtcclxuXHJcbiAgICBsZXQgdGh1bWJuYWlsID0gcmVxLmJvZHkudGh1bWJuYWlsO1xyXG4gICAgbGV0IGltYWdlcyA9IHJlcS5ib2R5LmltYWdlcyA/IHJlcS5ib2R5LmltYWdlcy5zcGxpdChcIixcIikgOiBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl0gJiYgcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke29sZFByb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4gICAgICAgIHRodW1ibmFpbCA9IHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVxLmZpbGVzW1wiaW1hZ2VzXCJdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIG9sZFByb2R1Y3QuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtpbWFnZX1gKSk7XHJcbiAgICAgICAgaW1hZ2VzID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgcHJvZHVjdGlkLFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgYXZhaWxhYmxlaW4sXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgcXVhbnRpdHksXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICAgIGltYWdlcyxcclxuICAgICAgfSxcclxuICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCk7XHJcblxyXG4gICAgaWYgKCFwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IG5vdCBmb3VuZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvZHVjdC50aHVtYm5haWwpIHtcclxuICAgICAgZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7cHJvZHVjdC50aHVtYm5haWx9YCk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvZHVjdC5pbWFnZXMgJiYgcHJvZHVjdC5pbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBwcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShwcm9kdWN0aWQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBwYWdlID0gMSwgbGltaXQgPSAxMCwgc2VhcmNoID0gXCJcIiwgc29ydCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgY29uc3Qgc2tpcG5vID0gbGltaXQgKiAocGFnZSAtIDEpO1xyXG4gICAgY29uc3Qgcmd4ID0gKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAoYC4qJHtwYXR0ZXJufS4qYCwgXCJpXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoUmd4ID0gcmd4KHNlYXJjaCk7XHJcblxyXG4gICAgbGV0IGZpbHRlciA9IHNlYXJjaFxyXG4gICAgICA/IHtcclxuICAgICAgICAgICRvcjogW1xyXG4gICAgICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogc2VhcmNoUmd4IH0gfSxcclxuICAgICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBsZXQgc29ydFZhbHVlID0gW1wiX2lkXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwibmV3XCIpIHNvcnRWYWx1ZSA9IFtcIl9pZFwiLCAtMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJsdGhcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJodGxcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgLTFdO1xyXG5cclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgcHJvZHVjdE1vZGVsXHJcbiAgICAgIC5maW5kKGZpbHRlcilcclxuICAgICAgLnBvcHVsYXRlKFwiY2F0ZWdvcnlcIilcclxuICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcclxuICAgICAgLnNraXAoc2tpcG5vKVxyXG4gICAgICAuc29ydChbc29ydFZhbHVlXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzQWdnciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbC5hZ2dyZWdhdGUoW1xyXG4gICAgICB7XHJcbiAgICAgICAgJGxvb2t1cDoge1xyXG4gICAgICAgICAgZnJvbTogXCJjYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICBsb2NhbEZpZWxkOiBcImNhdGVnb3J5XCIsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6IFwiX2lkXCIsXHJcbiAgICAgICAgICBhczogXCJjYXRlZ29yeURhdGFcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7ICR1bndpbmQ6IFwiJGNhdGVnb3J5RGF0YVwiIH0sXHJcbiAgICBdKTtcclxuXHJcbiAgICBpZiAocHJvZHVjdHMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogcHJvZHVjdHMubGVuZ3RoLFxyXG4gICAgICAgIGRhdGE6IHByb2R1Y3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0aWQgPSByZXEucGFyYW1zLnByb2R1Y3RpZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKS5wb3B1bGF0ZShcImNhdGVnb3J5XCIpO1xyXG5cclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogcHJvZHVjdCxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFD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","map":{"version":3,"names":["_product","_interopRequireDefault","require","_multer","_fs","_path","_util","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","addProduct","res","title","description","availablein","price","quantity","category","body","thumbnail","images","files","map","newProduct","productModel","saveData","save","status","json","data","message","success","err","exports","updateProduct","productid","params","split","oldProduct","findById","forEach","image","updatedProduct","findByIdAndUpdate","new","deleteProduct","product","length","findByIdAndDelete","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","searchRgx","filter","$or","$regex","sortValue","products","find","populate","parseInt","skip","count","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["product.controller.js"],"sourcesContent":["import productModel from \"../models/product.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([\r\n    { name: \"thumbnail\", maxCount: 1 },\r\n    { name: \"images\", maxCount: 10 },\r\n  ])\r\n);\r\n\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};  \r\n\r\nexport const addProduct = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n    let thumbnail = null;\r\n    let images = [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const newProduct = new productModel({\r\n      title,\r\n      description,\r\n      availablein,\r\n      price,\r\n      quantity,\r\n      category,\r\n      thumbnail,\r\n      images,\r\n    });\r\n\r\n    const saveData = await newProduct.save();\r\n\r\n    return res.status(201).json({\r\n      data: saveData,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n\r\n    let thumbnail = req.body.thumbnail;\r\n    let images = req.body.images ? req.body.images.split(\",\") : [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const updatedProduct = await productModel.findByIdAndUpdate(\r\n      productid,\r\n      {\r\n        title,\r\n        description,\r\n        availablein,\r\n        price,\r\n        quantity,\r\n        category,\r\n        thumbnail,\r\n        images,\r\n      },\r\n      { new: true }\r\n    );\r\n\r\n    if (updatedProduct) {\r\n      return res.status(200).json({\r\n        message: \"Product updated successfully\",\r\n        success: true,\r\n        data: updatedProduct,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Failed to update product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid);\r\n\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    if (product.thumbnail) {\r\n      deleteFile(`./uploads/${product.thumbnail}`);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n    }\r\n\r\n    await productModel.findByIdAndDelete(productid);\r\n\r\n    return res.status(200).json({\r\n      message: \"Product deleted successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n    const skipno = limit * (page - 1);\r\n    const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = search\r\n      ? {\r\n          $or: [\r\n            { title: { $regex: searchRgx } },\r\n            { description: { $regex: searchRgx } },\r\n          ],\r\n        }\r\n      : {};\r\n\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort === \"new\") sortValue = [\"_id\", -1];\r\n    if (sort === \"lth\") sortValue = [\"price\", 1];\r\n    if (sort === \"htl\") sortValue = [\"price\", -1];\r\n\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit))\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid).populate(\"category\");\r\n\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1717675000949},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\product.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _category = _interopRequireDefault(require(\"./category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst productSchema = new Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: Schema.Types.ObjectId,\n    required: true,\n    ref: _category.default\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  avaliablein: {\n    type: String,\n    default: null\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  sizes: {\n    type: Array,\n    default: [34, 36, 38, 40, 42, 44, 46]\n  },\n  thumbnail: {\n    type: String,\n    default: null\n  },\n  images: {\n    type: [String],\n    default: [1, 2, 3, 4]\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"product\", productSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jYXRlZ29yeSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJwcm9kdWN0U2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjYXRlZ29yeU1vZGVsIiwiZGVzY3JpcHRpb24iLCJhdmFsaWFibGVpbiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJzaXplcyIsIkFycmF5IiwidGh1bWJuYWlsIiwiaW1hZ2VzIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgY2F0ZWdvcnlNb2RlbCBmcm9tIFwiLi9jYXRlZ29yeS5tb2RlbFwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGl0bGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY2F0ZWdvcnk6IHtcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgcmVmOiBjYXRlZ29yeU1vZGVsLFxyXG4gIH0sXHJcbiAgZGVzY3JpcHRpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBhdmFsaWFibGVpbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHF1YW50aXR5OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByaWNlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBzaXplczoge1xyXG4gICAgdHlwZTogQXJyYXksXHJcbiAgICBkZWZhdWx0OiBbMzQsIDM2LCAzOCwgNDAsIDQyLCA0NCwgNDZdLFxyXG4gIH0sXHJcbiAgdGh1bWJuYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgaW1hZ2VzOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFsxLCAyLCAzLCA0XSxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0XCIsIHByb2R1Y3RTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM3QyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsYUFBYSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUMvQkcsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFFBQVEsRUFBRTtJQUNSSCxJQUFJLEVBQUVKLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDQyxRQUFRO0lBQzNCSCxRQUFRLEVBQUUsSUFBSTtJQUNkSSxHQUFHLEVBQUVDO0VBQ1AsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWFIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsV0FBVyxFQUFFO0lBQ1hULElBQUksRUFBRUMsTUFBTTtJQUNaTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RlLFFBQVEsRUFBRTtJQUNSVixJQUFJLEVBQUVXLE1BQU07SUFDWlQsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEVSxLQUFLLEVBQUU7SUFDTFosSUFBSSxFQUFFVyxNQUFNO0lBQ1pULFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFRFcsS0FBSyxFQUFFO0lBQ0xiLElBQUksRUFBRWMsS0FBSztJQUNYbkIsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtFQUN0QyxDQUFDO0VBQ0RvQixTQUFTLEVBQUU7SUFDVGYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRHFCLE1BQU0sRUFBRTtJQUNOaEIsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0VBQ3RCLENBQUM7RUFDRHNCLE1BQU0sRUFBRTtJQUNOakIsSUFBSSxFQUFFVyxNQUFNO0lBQ1poQixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0R1QixVQUFVLEVBQUU7SUFDVmxCLElBQUksRUFBRW1CLElBQUk7SUFDVnhCLE9BQU8sRUFBRXdCLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUEzQixPQUFBLEdBRVlFLGlCQUFRLENBQUMwQixLQUFLLENBQUMsU0FBUyxFQUFFekIsYUFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_category","obj","__esModule","default","Schema","mongoose","productSchema","title","type","String","required","category","Types","ObjectId","ref","categoryModel","description","avaliablein","quantity","Number","price","sizes","Array","thumbnail","images","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["product.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport categoryModel from \"./category.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst productSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  category: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: categoryModel,\r\n  },\r\n  description: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  avaliablein: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n\r\n  sizes: {\r\n    type: Array,\r\n    default: [34, 36, 38, 40, 42, 44, 46],\r\n  },\r\n  thumbnail: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  images: {\r\n    type: [String],\r\n    default: [1, 2, 3, 4],\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"product\", productSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7C,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,aAAa,GAAG,IAAIF,MAAM,CAAC;EAC/BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEJ,MAAM,CAACQ,KAAK,CAACC,QAAQ;IAC3BH,QAAQ,EAAE,IAAI;IACdI,GAAG,EAAEC;EACP,CAAC;EACDC,WAAW,EAAE;IACXR,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDc,WAAW,EAAE;IACXT,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDe,QAAQ,EAAE;IACRV,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EACDU,KAAK,EAAE;IACLZ,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EAEDW,KAAK,EAAE;IACLb,IAAI,EAAEc,KAAK;IACXnB,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EACtC,CAAC;EACDoB,SAAS,EAAE;IACTf,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDqB,MAAM,EAAE;IACNhB,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EACtB,CAAC;EACDsB,MAAM,EAAE;IACNjB,IAAI,EAAEW,MAAM;IACZhB,OAAO,EAAE;EACX,CAAC;EACDuB,UAAU,EAAE;IACVlB,IAAI,EAAEmB,IAAI;IACVxB,OAAO,EAAEwB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAA3B,OAAA,GAEYE,iBAAQ,CAAC0B,KAAK,CAAC,SAAS,EAAEzB,aAAa,CAAC","ignoreList":[]}},"mtime":1715804608148},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\cart.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cart = require(\"../controllers/cart.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-to-cart\", _cart.addToCart);\nrouter.put(\"/update-quantity/:item_id\", _cart.updateQuantity);\nrouter.delete(\"/delete-cart-item/:item_id\", _cart.deleteCartItem);\nrouter.get(\"/get-cart-items/:user_id\", _cart.getCartItems);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhcnQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVG9DYXJ0IiwicHV0IiwidXBkYXRlUXVhbnRpdHkiLCJkZWxldGUiLCJkZWxldGVDYXJ0SXRlbSIsImdldCIsImdldENhcnRJdGVtcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXJ0LnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFRvQ2FydCxcclxuICBkZWxldGVDYXJ0SXRlbSxcclxuICBnZXRDYXJ0SXRlbXMsXHJcbiAgdXBkYXRlUXVhbnRpdHksXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2NhcnQuY29udHJvbGxlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FkZC10by1jYXJ0XCIsIGFkZFRvQ2FydCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXF1YW50aXR5LzppdGVtX2lkXCIsIHVwZGF0ZVF1YW50aXR5KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtY2FydC1pdGVtLzppdGVtX2lkXCIsIGRlbGV0ZUNhcnRJdGVtKTtcclxucm91dGVyLmdldChcIi9nZXQtY2FydC1pdGVtcy86dXNlcl9pZFwiLCBnZXRDYXJ0SXRlbXMpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBS3dDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGNBQWMsRUFBRUMsZUFBUyxDQUFDO0FBQ3RDSixNQUFNLENBQUNLLEdBQUcsQ0FBQywyQkFBMkIsRUFBRUMsb0JBQWMsQ0FBQztBQUN2RE4sTUFBTSxDQUFDTyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLG9CQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLDBCQUEwQixFQUFFQyxrQkFBWSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FDdENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cart","obj","__esModule","default","router","express","Router","post","addToCart","put","updateQuantity","delete","deleteCartItem","get","getCartItems","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["cart.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addToCart,\r\n  deleteCartItem,\r\n  getCartItems,\r\n  updateQuantity,\r\n} from \"../controllers/cart.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-to-cart\", addToCart);\r\nrouter.put(\"/update-quantity/:item_id\", updateQuantity);\r\nrouter.delete(\"/delete-cart-item/:item_id\", deleteCartItem);\r\nrouter.get(\"/get-cart-items/:user_id\", getCartItems);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,eAAS,CAAC;AACtCJ,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEC,oBAAc,CAAC;AACvDN,MAAM,CAACO,MAAM,CAAC,4BAA4B,EAAEC,oBAAc,CAAC;AAC3DR,MAAM,CAACS,GAAG,CAAC,0BAA0B,EAAEC,kBAAY,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GACtCC,MAAM","ignoreList":[]}},"mtime":1714722895373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\cart.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateQuantity = exports.getCartItems = exports.deleteCartItem = exports.addToCart = void 0;\nvar _cart = _interopRequireDefault(require(\"../models/cart.model\"));\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addToCart = async (req, res) => {\n  try {\n    const {\n      userID,\n      productID,\n      quantity\n    } = req.body;\n    const exitingItem = await _cart.default.findOne({\n      userID: userID,\n      productID: productID\n    });\n    if (exitingItem) {\n      let qty = quantity ? exitingItem.quantity + quantity : exitingItem.quantity + 1;\n      if (qty > 5) {\n        return res.status(200).json({\n          message: \"Quantity exceeded\"\n        });\n      }\n      const updateQty = await _cart.default.updateOne({\n        _id: exitingItem._id\n      }, {\n        $set: {\n          quantity: qty\n        }\n      });\n      if (updateQty.modifiedCount > 0) {\n        return res.status(201).json({\n          message: \"Updated\",\n          success: true\n        });\n      }\n    }\n    const proData = await _product.default.findOne({\n      _id: productID\n    });\n    const saveData = await _cart.default.create({\n      userID: userID,\n      productID: productID,\n      title: proData.title,\n      image: proData.thumbnail,\n      price: proData.price,\n      quantity: quantity ? quantity : 1\n    });\n    if (saveData) {\n      return res.status(200).json({\n        data: saveData,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addToCart = addToCart;\nconst updateQuantity = async (req, res) => {\n  try {\n    const type = req.query.type;\n    const cartItemID = req.params.item_id;\n    const cartItem = await _cart.default.findOne({\n      _id: cartItemID\n    });\n    let qty = cartItem.quantity;\n    if (type === \"increment\") {\n      qty = qty + 1;\n    }\n    if (type === \"decrement\") {\n      qty = qty - 1;\n    }\n    if (qty > 5) {\n      return res.status(200).json({\n        message: \"Quantity exceeded\"\n      });\n    }\n    if (qty == 0) {\n      const deleteItem = await _cart.default.deleteOne({\n        _id: cartItemID\n      });\n      //   console.log(deleteItem)\n      if (deleteItem.deletedCount > 0) {\n        return res.status(200).json({\n          message: \"Item removed\"\n        });\n      }\n    }\n    const updateCartQty = await _cart.default.updateOne({\n      _id: cartItemID\n    }, {\n      $set: {\n        quantity: qty\n      }\n    });\n    if (updateCartQty.modifiedCount > 0) {\n      return res.status(200).json({\n        message: \"Updated\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateQuantity = updateQuantity;\nconst deleteCartItem = async (req, res) => {\n  try {\n    const cartItemID = req.params.item_id;\n    const deleteItem = await _cart.default.deleteOne({\n      _id: cartItemID\n    });\n    if (deleteItem.deletedCount > 0) {\n      return res.status(200).json({\n        message: \"Item removed\"\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCartItem = deleteCartItem;\nconst getCartItems = async (req, res) => {\n  try {\n    const userID = req.params.user_id;\n    const cartItems = await _cart.default.find({\n      userID: userID\n    });\n    if (cartItems) {\n      return res.status(201).json({\n        data: cartItems,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCartItems = getCartItems;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFkZFRvQ2FydCIsInJlcSIsInJlcyIsInVzZXJJRCIsInByb2R1Y3RJRCIsInF1YW50aXR5IiwiYm9keSIsImV4aXRpbmdJdGVtIiwiY2FydE1vZGVsIiwiZmluZE9uZSIsInF0eSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidXBkYXRlUXR5IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJzdWNjZXNzIiwicHJvRGF0YSIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwiY3JlYXRlIiwidGl0bGUiLCJpbWFnZSIsInRodW1ibmFpbCIsInByaWNlIiwiZGF0YSIsImVyciIsImV4cG9ydHMiLCJ1cGRhdGVRdWFudGl0eSIsInR5cGUiLCJxdWVyeSIsImNhcnRJdGVtSUQiLCJwYXJhbXMiLCJpdGVtX2lkIiwiY2FydEl0ZW0iLCJkZWxldGVJdGVtIiwiZGVsZXRlT25lIiwiZGVsZXRlZENvdW50IiwidXBkYXRlQ2FydFF0eSIsImRlbGV0ZUNhcnRJdGVtIiwiZ2V0Q2FydEl0ZW1zIiwidXNlcl9pZCIsImNhcnRJdGVtcyIsImZpbmQiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhcnQuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2FydE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FydC5tb2RlbFwiO1xyXG5pbXBvcnQgcHJvZHVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdC5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkVG9DYXJ0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklELCBwcm9kdWN0SUQsIHF1YW50aXR5IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGl0aW5nSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5maW5kT25lKHtcclxuICAgICAgdXNlcklEOiB1c2VySUQsXHJcbiAgICAgIHByb2R1Y3RJRDogcHJvZHVjdElELFxyXG4gICAgfSk7XHJcbiAgICBpZiAoZXhpdGluZ0l0ZW0pIHtcclxuICAgICAgbGV0IHF0eSA9IHF1YW50aXR5XHJcbiAgICAgICAgPyBleGl0aW5nSXRlbS5xdWFudGl0eSArIHF1YW50aXR5XHJcbiAgICAgICAgOiBleGl0aW5nSXRlbS5xdWFudGl0eSArIDE7XHJcblxyXG4gICAgICBpZiAocXR5ID4gNSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlF1YW50aXR5IGV4Y2VlZGVkXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdXBkYXRlUXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgICB7IF9pZDogZXhpdGluZ0l0ZW0uX2lkIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICBxdWFudGl0eTogcXR5LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAodXBkYXRlUXR5Lm1vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb0RhdGEgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZE9uZSh7IF9pZDogcHJvZHVjdElEIH0pO1xyXG5cclxuICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgY2FydE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICBwcm9kdWN0SUQ6IHByb2R1Y3RJRCxcclxuICAgICAgdGl0bGU6IHByb0RhdGEudGl0bGUsXHJcbiAgICAgIGltYWdlOiBwcm9EYXRhLnRodW1ibmFpbCxcclxuICAgICAgcHJpY2U6IHByb0RhdGEucHJpY2UsXHJcbiAgICAgIHF1YW50aXR5OiBxdWFudGl0eSA/IHF1YW50aXR5IDogMSxcclxuICAgIH0pO1xyXG4gICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUXVhbnRpdHkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHlwZSA9IHJlcS5xdWVyeS50eXBlO1xyXG4gICAgY29uc3QgY2FydEl0ZW1JRCA9IHJlcS5wYXJhbXMuaXRlbV9pZDtcclxuICAgIGNvbnN0IGNhcnRJdGVtID0gYXdhaXQgY2FydE1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICBsZXQgcXR5ID0gY2FydEl0ZW0ucXVhbnRpdHk7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwiaW5jcmVtZW50XCIpIHtcclxuICAgICAgcXR5ID0gcXR5ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gXCJkZWNyZW1lbnRcIikge1xyXG4gICAgICBxdHkgPSBxdHkgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChxdHkgPiA1KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJRdWFudGl0eSBleGNlZWRlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXR5ID09IDApIHtcclxuICAgICAgY29uc3QgZGVsZXRlSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coZGVsZXRlSXRlbSlcclxuICAgICAgaWYgKGRlbGV0ZUl0ZW0uZGVsZXRlZENvdW50ID4gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVDYXJ0UXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhcnRJdGVtSUQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIHF1YW50aXR5OiBxdHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlQ2FydFF0eS5tb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcnRJdGVtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcnRJdGVtSUQgPSByZXEucGFyYW1zLml0ZW1faWQ7XHJcbiAgICBjb25zdCBkZWxldGVJdGVtID0gYXdhaXQgY2FydE1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogY2FydEl0ZW1JRCB9KTtcclxuICAgIGlmIChkZWxldGVJdGVtLmRlbGV0ZWRDb3VudCA+IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXJ0SXRlbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcklEID0gcmVxLnBhcmFtcy51c2VyX2lkO1xyXG4gICAgY29uc3QgY2FydEl0ZW1zID0gYXdhaXQgY2FydE1vZGVsLmZpbmQoeyB1c2VySUQ6IHVzZXJJRCB9KTtcclxuICAgIGlmIChjYXJ0SXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXJ0SXRlbXMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzVDLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxNQUFNO01BQUVDLFNBQVM7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtJQUVoRCxNQUFNQyxXQUFXLEdBQUcsTUFBTUMsYUFBUyxDQUFDQyxPQUFPLENBQUM7TUFDMUNOLE1BQU0sRUFBRUEsTUFBTTtNQUNkQyxTQUFTLEVBQUVBO0lBQ2IsQ0FBQyxDQUFDO0lBQ0YsSUFBSUcsV0FBVyxFQUFFO01BQ2YsSUFBSUcsR0FBRyxHQUFHTCxRQUFRLEdBQ2RFLFdBQVcsQ0FBQ0YsUUFBUSxHQUFHQSxRQUFRLEdBQy9CRSxXQUFXLENBQUNGLFFBQVEsR0FBRyxDQUFDO01BRTVCLElBQUlLLEdBQUcsR0FBRyxDQUFDLEVBQUU7UUFDWCxPQUFPUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtNQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNTixhQUFTLENBQUNPLFNBQVMsQ0FDekM7UUFBRUMsR0FBRyxFQUFFVCxXQUFXLENBQUNTO01BQUksQ0FBQyxFQUN4QjtR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","map":{"version":3,"names":["_cart","_interopRequireDefault","require","_product","obj","__esModule","default","addToCart","req","res","userID","productID","quantity","body","exitingItem","cartModel","findOne","qty","status","json","message","updateQty","updateOne","_id","$set","modifiedCount","success","proData","productModel","saveData","create","title","image","thumbnail","price","data","err","exports","updateQuantity","type","query","cartItemID","params","item_id","cartItem","deleteItem","deleteOne","deletedCount","updateCartQty","deleteCartItem","getCartItems","user_id","cartItems","find"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["cart.controller.js"],"sourcesContent":["import cartModel from \"../models/cart.model\";\r\nimport productModel from \"../models/product.model\";\r\nexport const addToCart = async (req, res) => {\r\n  try {\r\n    const { userID, productID, quantity } = req.body;\r\n\r\n    const exitingItem = await cartModel.findOne({\r\n      userID: userID,\r\n      productID: productID,\r\n    });\r\n    if (exitingItem) {\r\n      let qty = quantity\r\n        ? exitingItem.quantity + quantity\r\n        : exitingItem.quantity + 1;\r\n\r\n      if (qty > 5) {\r\n        return res.status(200).json({\r\n          message: \"Quantity exceeded\",\r\n        });\r\n      }\r\n      const updateQty = await cartModel.updateOne(\r\n        { _id: exitingItem._id },\r\n        {\r\n          $set: {\r\n            quantity: qty,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (updateQty.modifiedCount > 0) {\r\n        return res.status(201).json({\r\n          message: \"Updated\",\r\n          success: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    const proData = await productModel.findOne({ _id: productID });\r\n\r\n    const saveData = await cartModel.create({\r\n      userID: userID,\r\n      productID: productID,\r\n      title: proData.title,\r\n      image: proData.thumbnail,\r\n      price: proData.price,\r\n      quantity: quantity ? quantity : 1,\r\n    });\r\n    if (saveData) {\r\n      return res.status(200).json({\r\n        data: saveData,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateQuantity = async (req, res) => {\r\n  try {\r\n    const type = req.query.type;\r\n    const cartItemID = req.params.item_id;\r\n    const cartItem = await cartModel.findOne({ _id: cartItemID });\r\n    let qty = cartItem.quantity;\r\n\r\n    if (type === \"increment\") {\r\n      qty = qty + 1;\r\n    }\r\n\r\n    if (type === \"decrement\") {\r\n      qty = qty - 1;\r\n    }\r\n\r\n    if (qty > 5) {\r\n      return res.status(200).json({\r\n        message: \"Quantity exceeded\",\r\n      });\r\n    }\r\n\r\n    if (qty == 0) {\r\n      const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n      //   console.log(deleteItem)\r\n      if (deleteItem.deletedCount > 0) {\r\n        return res.status(200).json({\r\n          message: \"Item removed\",\r\n        });\r\n      }\r\n    }\r\n    const updateCartQty = await cartModel.updateOne(\r\n      { _id: cartItemID },\r\n      {\r\n        $set: {\r\n          quantity: qty,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (updateCartQty.modifiedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Updated\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCartItem = async (req, res) => {\r\n  try {\r\n    const cartItemID = req.params.item_id;\r\n    const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n    if (deleteItem.deletedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Item removed\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCartItems = async (req, res) => {\r\n  try {\r\n    const userID = req.params.user_id;\r\n    const cartItems = await cartModel.find({ userID: userID });\r\n    if (cartItems) {\r\n      return res.status(201).json({\r\n        data: cartItems,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715348956678},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\cart.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cart = require(\"../controllers/cart.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-to-cart\", _cart.addToCart);\nrouter.put(\"/update-quantity/:item_id\", _cart.updateQuantity);\nrouter.delete(\"/delete-cart-item/:item_id\", _cart.deleteCartItem);\nrouter.get(\"/get-cart-items/:user_id\", _cart.getCartItems);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhcnQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVG9DYXJ0IiwicHV0IiwidXBkYXRlUXVhbnRpdHkiLCJkZWxldGUiLCJkZWxldGVDYXJ0SXRlbSIsImdldCIsImdldENhcnRJdGVtcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXJ0LnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFRvQ2FydCxcclxuICBkZWxldGVDYXJ0SXRlbSxcclxuICBnZXRDYXJ0SXRlbXMsXHJcbiAgdXBkYXRlUXVhbnRpdHksXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2NhcnQuY29udHJvbGxlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FkZC10by1jYXJ0XCIsIGFkZFRvQ2FydCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXF1YW50aXR5LzppdGVtX2lkXCIsIHVwZGF0ZVF1YW50aXR5KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtY2FydC1pdGVtLzppdGVtX2lkXCIsIGRlbGV0ZUNhcnRJdGVtKTtcclxucm91dGVyLmdldChcIi9nZXQtY2FydC1pdGVtcy86dXNlcl9pZFwiLCBnZXRDYXJ0SXRlbXMpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBS3dDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGNBQWMsRUFBRUMsZUFBUyxDQUFDO0FBQ3RDSixNQUFNLENBQUNLLEdBQUcsQ0FBQywyQkFBMkIsRUFBRUMsb0JBQWMsQ0FBQztBQUN2RE4sTUFBTSxDQUFDTyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLG9CQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLDBCQUEwQixFQUFFQyxrQkFBWSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FDdENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cart","obj","__esModule","default","router","express","Router","post","addToCart","put","updateQuantity","delete","deleteCartItem","get","getCartItems","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["cart.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addToCart,\r\n  deleteCartItem,\r\n  getCartItems,\r\n  updateQuantity,\r\n} from \"../controllers/cart.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-to-cart\", addToCart);\r\nrouter.put(\"/update-quantity/:item_id\", updateQuantity);\r\nrouter.delete(\"/delete-cart-item/:item_id\", deleteCartItem);\r\nrouter.get(\"/get-cart-items/:user_id\", getCartItems);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,eAAS,CAAC;AACtCJ,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEC,oBAAc,CAAC;AACvDN,MAAM,CAACO,MAAM,CAAC,4BAA4B,EAAEC,oBAAc,CAAC;AAC3DR,MAAM,CAACS,GAAG,CAAC,0BAA0B,EAAEC,kBAAY,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GACtCC,MAAM","ignoreList":[]}},"mtime":1714722895373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\cart.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst cartSchema = new Schema({\n  userID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  productID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"cart\", cartSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJjYXJ0U2NoZW1hIiwidXNlcklEIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZXF1aXJlZCIsInByb2R1Y3RJRCIsInRpdGxlIiwiU3RyaW5nIiwicHJpY2UiLCJOdW1iZXIiLCJxdWFudGl0eSIsImltYWdlIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImNhcnQubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBjYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdXNlcklEOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByb2R1Y3RJRDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBwcmljZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBxdWFudGl0eToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsIGNhcnRTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1RKLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREUsS0FBSyxFQUFFO0lBQ0xMLElBQUksRUFBRU0sTUFBTTtJQUNaSCxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RJLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVRLE1BQU07SUFDWkwsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETSxRQUFRLEVBQUU7SUFDUlQsSUFBSSxFQUFFUSxNQUFNO0lBQ1pMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE8sS0FBSyxFQUFFO0lBQ0xWLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RnQixVQUFVLEVBQUU7SUFDVlgsSUFBSSxFQUFFWSxJQUFJO0lBQ1ZqQixPQUFPLEVBQUVpQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDbUIsS0FBSyxDQUFDLE1BQU0sRUFBRWxCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","cartSchema","userID","type","Types","ObjectId","required","productID","title","String","price","Number","quantity","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["cart.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst cartSchema = new Schema({\r\n  userID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  productID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"cart\", cartSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTJ,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDE,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZH,QAAQ,EAAE;EACZ,CAAC;EACDI,KAAK,EAAE;IACLP,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDM,QAAQ,EAAE;IACRT,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDO,KAAK,EAAE;IACLV,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDgB,UAAU,EAAE;IACVX,IAAI,EAAEY,IAAI;IACVjB,OAAO,EAAEiB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEYE,iBAAQ,CAACmB,KAAK,CAAC,MAAM,EAAElB,UAAU,CAAC","ignoreList":[]}},"mtime":1715349179130},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\cart.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateQuantity = exports.getCartItems = exports.deleteCartItem = exports.addToCart = void 0;\nvar _cart = _interopRequireDefault(require(\"../models/cart.model\"));\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addToCart = async (req, res) => {\n  try {\n    const {\n      userID,\n      productID,\n      quantity\n    } = req.body;\n    const exitingItem = await _cart.default.findOne({\n      userID: userID,\n      productID: productID\n    });\n    if (exitingItem) {\n      let qty = quantity ? exitingItem.quantity + quantity : exitingItem.quantity + 1;\n      if (qty > 5) {\n        return res.status(200).json({\n          message: \"Quantity exceeded\"\n        });\n      }\n      const updateQty = await _cart.default.updateOne({\n        _id: exitingItem._id\n      }, {\n        $set: {\n          quantity: qty\n        }\n      });\n      if (updateQty.modifiedCount > 0) {\n        return res.status(201).json({\n          message: \"Updated\",\n          success: true\n        });\n      }\n    }\n    const proData = await _product.default.findOne({\n      _id: productID\n    });\n    const saveData = await _cart.default.create({\n      userID: userID,\n      productID: productID,\n      title: proData.title,\n      image: proData.thumbnail,\n      price: proData.price,\n      quantity: quantity ? quantity : 1\n    });\n    if (saveData) {\n      return res.status(200).json({\n        data: saveData,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addToCart = addToCart;\nconst updateQuantity = async (req, res) => {\n  try {\n    const type = req.query.type;\n    const cartItemID = req.params.item_id;\n    const cartItem = await _cart.default.findOne({\n      _id: cartItemID\n    });\n    let qty = cartItem.quantity;\n    if (type === \"increment\") {\n      qty = qty + 1;\n    }\n    if (type === \"decrement\") {\n      qty = qty - 1;\n    }\n    if (qty > 5) {\n      return res.status(200).json({\n        message: \"Quantity exceeded\"\n      });\n    }\n    if (qty == 0) {\n      const deleteItem = await _cart.default.deleteOne({\n        _id: cartItemID\n      });\n      //   console.log(deleteItem)\n      if (deleteItem.deletedCount > 0) {\n        return res.status(200).json({\n          message: \"Item removed\"\n        });\n      }\n    }\n    const updateCartQty = await _cart.default.updateOne({\n      _id: cartItemID\n    }, {\n      $set: {\n        quantity: qty\n      }\n    });\n    if (updateCartQty.modifiedCount > 0) {\n      return res.status(200).json({\n        message: \"Updated\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateQuantity = updateQuantity;\nconst deleteCartItem = async (req, res) => {\n  try {\n    const cartItemID = req.params.item_id;\n    const deleteItem = await _cart.default.deleteOne({\n      _id: cartItemID\n    });\n    if (deleteItem.deletedCount > 0) {\n      return res.status(200).json({\n        message: \"Item removed\"\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCartItem = deleteCartItem;\nconst getCartItems = async (req, res) => {\n  try {\n    const userID = req.params.user_id;\n    const cartItems = await _cart.default.find({\n      userID: userID\n    });\n    if (cartItems) {\n      return res.status(201).json({\n        data: cartItems,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCartItems = getCartItems;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFkZFRvQ2FydCIsInJlcSIsInJlcyIsInVzZXJJRCIsInByb2R1Y3RJRCIsInF1YW50aXR5IiwiYm9keSIsImV4aXRpbmdJdGVtIiwiY2FydE1vZGVsIiwiZmluZE9uZSIsInF0eSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidXBkYXRlUXR5IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJzdWNjZXNzIiwicHJvRGF0YSIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwiY3JlYXRlIiwidGl0bGUiLCJpbWFnZSIsInRodW1ibmFpbCIsInByaWNlIiwiZGF0YSIsImVyciIsImV4cG9ydHMiLCJ1cGRhdGVRdWFudGl0eSIsInR5cGUiLCJxdWVyeSIsImNhcnRJdGVtSUQiLCJwYXJhbXMiLCJpdGVtX2lkIiwiY2FydEl0ZW0iLCJkZWxldGVJdGVtIiwiZGVsZXRlT25lIiwiZGVsZXRlZENvdW50IiwidXBkYXRlQ2FydFF0eSIsImRlbGV0ZUNhcnRJdGVtIiwiZ2V0Q2FydEl0ZW1zIiwidXNlcl9pZCIsImNhcnRJdGVtcyIsImZpbmQiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhcnQuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2FydE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FydC5tb2RlbFwiO1xyXG5pbXBvcnQgcHJvZHVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdC5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkVG9DYXJ0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklELCBwcm9kdWN0SUQsIHF1YW50aXR5IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGl0aW5nSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5maW5kT25lKHtcclxuICAgICAgdXNlcklEOiB1c2VySUQsXHJcbiAgICAgIHByb2R1Y3RJRDogcHJvZHVjdElELFxyXG4gICAgfSk7XHJcbiAgICBpZiAoZXhpdGluZ0l0ZW0pIHtcclxuICAgICAgbGV0IHF0eSA9IHF1YW50aXR5XHJcbiAgICAgICAgPyBleGl0aW5nSXRlbS5xdWFudGl0eSArIHF1YW50aXR5XHJcbiAgICAgICAgOiBleGl0aW5nSXRlbS5xdWFudGl0eSArIDE7XHJcblxyXG4gICAgICBpZiAocXR5ID4gNSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlF1YW50aXR5IGV4Y2VlZGVkXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdXBkYXRlUXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgICB7IF9pZDogZXhpdGluZ0l0ZW0uX2lkIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICBxdWFudGl0eTogcXR5LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAodXBkYXRlUXR5Lm1vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb0RhdGEgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZE9uZSh7IF9pZDogcHJvZHVjdElEIH0pO1xyXG5cclxuICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgY2FydE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICBwcm9kdWN0SUQ6IHByb2R1Y3RJRCxcclxuICAgICAgdGl0bGU6IHByb0RhdGEudGl0bGUsXHJcbiAgICAgIGltYWdlOiBwcm9EYXRhLnRodW1ibmFpbCxcclxuICAgICAgcHJpY2U6IHByb0RhdGEucHJpY2UsXHJcbiAgICAgIHF1YW50aXR5OiBxdWFudGl0eSA/IHF1YW50aXR5IDogMSxcclxuICAgIH0pO1xyXG4gICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUXVhbnRpdHkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHlwZSA9IHJlcS5xdWVyeS50eXBlO1xyXG4gICAgY29uc3QgY2FydEl0ZW1JRCA9IHJlcS5wYXJhbXMuaXRlbV9pZDtcclxuICAgIGNvbnN0IGNhcnRJdGVtID0gYXdhaXQgY2FydE1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICBsZXQgcXR5ID0gY2FydEl0ZW0ucXVhbnRpdHk7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwiaW5jcmVtZW50XCIpIHtcclxuICAgICAgcXR5ID0gcXR5ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gXCJkZWNyZW1lbnRcIikge1xyXG4gICAgICBxdHkgPSBxdHkgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChxdHkgPiA1KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJRdWFudGl0eSBleGNlZWRlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXR5ID09IDApIHtcclxuICAgICAgY29uc3QgZGVsZXRlSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coZGVsZXRlSXRlbSlcclxuICAgICAgaWYgKGRlbGV0ZUl0ZW0uZGVsZXRlZENvdW50ID4gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVDYXJ0UXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhcnRJdGVtSUQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIHF1YW50aXR5OiBxdHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlQ2FydFF0eS5tb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcnRJdGVtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcnRJdGVtSUQgPSByZXEucGFyYW1zLml0ZW1faWQ7XHJcbiAgICBjb25zdCBkZWxldGVJdGVtID0gYXdhaXQgY2FydE1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogY2FydEl0ZW1JRCB9KTtcclxuICAgIGlmIChkZWxldGVJdGVtLmRlbGV0ZWRDb3VudCA+IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXJ0SXRlbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcklEID0gcmVxLnBhcmFtcy51c2VyX2lkO1xyXG4gICAgY29uc3QgY2FydEl0ZW1zID0gYXdhaXQgY2FydE1vZGVsLmZpbmQoeyB1c2VySUQ6IHVzZXJJRCB9KTtcclxuICAgIGlmIChjYXJ0SXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXJ0SXRlbXMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzVDLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxNQUFNO01BQUVDLFNBQVM7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtJQUVoRCxNQUFNQyxXQUFXLEdBQUcsTUFBTUMsYUFBUyxDQUFDQyxPQUFPLENBQUM7TUFDMUNOLE1BQU0sRUFBRUEsTUFBTTtNQUNkQyxTQUFTLEVBQUVBO0lBQ2IsQ0FBQyxDQUFDO0lBQ0YsSUFBSUcsV0FBVyxFQUFFO01BQ2YsSUFBSUcsR0FBRyxHQUFHTCxRQUFRLEdBQ2RFLFdBQVcsQ0FBQ0YsUUFBUSxHQUFHQSxRQUFRLEdBQy9CRSxXQUFXLENBQUNGLFFBQVEsR0FBRyxDQUFDO01BRTVCLElBQUlLLEdBQUcsR0FBRyxDQUFDLEVBQUU7UUFDWCxPQUFPUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtNQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNTixhQUFTLENBQUNPLFNBQVMsQ0FDekM7UUFBRUMsR0FBRyxFQUFFVCxXQUFXLENBQUNTO01BQUksQ0FBQyxFQUN4QjtR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","map":{"version":3,"names":["_cart","_interopRequireDefault","require","_product","obj","__esModule","default","addToCart","req","res","userID","productID","quantity","body","exitingItem","cartModel","findOne","qty","status","json","message","updateQty","updateOne","_id","$set","modifiedCount","success","proData","productModel","saveData","create","title","image","thumbnail","price","data","err","exports","updateQuantity","type","query","cartItemID","params","item_id","cartItem","deleteItem","deleteOne","deletedCount","updateCartQty","deleteCartItem","getCartItems","user_id","cartItems","find"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["cart.controller.js"],"sourcesContent":["import cartModel from \"../models/cart.model\";\r\nimport productModel from \"../models/product.model\";\r\nexport const addToCart = async (req, res) => {\r\n  try {\r\n    const { userID, productID, quantity } = req.body;\r\n\r\n    const exitingItem = await cartModel.findOne({\r\n      userID: userID,\r\n      productID: productID,\r\n    });\r\n    if (exitingItem) {\r\n      let qty = quantity\r\n        ? exitingItem.quantity + quantity\r\n        : exitingItem.quantity + 1;\r\n\r\n      if (qty > 5) {\r\n        return res.status(200).json({\r\n          message: \"Quantity exceeded\",\r\n        });\r\n      }\r\n      const updateQty = await cartModel.updateOne(\r\n        { _id: exitingItem._id },\r\n        {\r\n          $set: {\r\n            quantity: qty,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (updateQty.modifiedCount > 0) {\r\n        return res.status(201).json({\r\n          message: \"Updated\",\r\n          success: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    const proData = await productModel.findOne({ _id: productID });\r\n\r\n    const saveData = await cartModel.create({\r\n      userID: userID,\r\n      productID: productID,\r\n      title: proData.title,\r\n      image: proData.thumbnail,\r\n      price: proData.price,\r\n      quantity: quantity ? quantity : 1,\r\n    });\r\n    if (saveData) {\r\n      return res.status(200).json({\r\n        data: saveData,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateQuantity = async (req, res) => {\r\n  try {\r\n    const type = req.query.type;\r\n    const cartItemID = req.params.item_id;\r\n    const cartItem = await cartModel.findOne({ _id: cartItemID });\r\n    let qty = cartItem.quantity;\r\n\r\n    if (type === \"increment\") {\r\n      qty = qty + 1;\r\n    }\r\n\r\n    if (type === \"decrement\") {\r\n      qty = qty - 1;\r\n    }\r\n\r\n    if (qty > 5) {\r\n      return res.status(200).json({\r\n        message: \"Quantity exceeded\",\r\n      });\r\n    }\r\n\r\n    if (qty == 0) {\r\n      const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n      //   console.log(deleteItem)\r\n      if (deleteItem.deletedCount > 0) {\r\n        return res.status(200).json({\r\n          message: \"Item removed\",\r\n        });\r\n      }\r\n    }\r\n    const updateCartQty = await cartModel.updateOne(\r\n      { _id: cartItemID },\r\n      {\r\n        $set: {\r\n          quantity: qty,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (updateCartQty.modifiedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Updated\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCartItem = async (req, res) => {\r\n  try {\r\n    const cartItemID = req.params.item_id;\r\n    const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n    if (deleteItem.deletedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Item removed\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCartItems = async (req, res) => {\r\n  try {\r\n    const userID = req.params.user_id;\r\n    const cartItems = await cartModel.find({ userID: userID });\r\n    if (cartItems) {\r\n      return res.status(201).json({\r\n        data: cartItems,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715348956678},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\cart.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst cartSchema = new Schema({\n  userID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  productID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"cart\", cartSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJjYXJ0U2NoZW1hIiwidXNlcklEIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZXF1aXJlZCIsInByb2R1Y3RJRCIsInRpdGxlIiwiU3RyaW5nIiwicHJpY2UiLCJOdW1iZXIiLCJxdWFudGl0eSIsImltYWdlIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImNhcnQubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBjYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdXNlcklEOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByb2R1Y3RJRDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBwcmljZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBxdWFudGl0eToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsIGNhcnRTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1RKLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREUsS0FBSyxFQUFFO0lBQ0xMLElBQUksRUFBRU0sTUFBTTtJQUNaSCxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RJLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVRLE1BQU07SUFDWkwsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETSxRQUFRLEVBQUU7SUFDUlQsSUFBSSxFQUFFUSxNQUFNO0lBQ1pMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE8sS0FBSyxFQUFFO0lBQ0xWLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RnQixVQUFVLEVBQUU7SUFDVlgsSUFBSSxFQUFFWSxJQUFJO0lBQ1ZqQixPQUFPLEVBQUVpQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDbUIsS0FBSyxDQUFDLE1BQU0sRUFBRWxCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","cartSchema","userID","type","Types","ObjectId","required","productID","title","String","price","Number","quantity","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["cart.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst cartSchema = new Schema({\r\n  userID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  productID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"cart\", cartSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTJ,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDE,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZH,QAAQ,EAAE;EACZ,CAAC;EACDI,KAAK,EAAE;IACLP,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDM,QAAQ,EAAE;IACRT,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDO,KAAK,EAAE;IACLV,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDgB,UAAU,EAAE;IACVX,IAAI,EAAEY,IAAI;IACVjB,OAAO,EAAEiB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEYE,iBAAQ,CAACmB,KAAK,CAAC,MAAM,EAAElB,UAAU,CAAC","ignoreList":[]}},"mtime":1715349179130}}